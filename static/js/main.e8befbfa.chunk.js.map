{"version":3,"sources":["legend.svg","Components/TitleContainer.js","Components/Navbar.jsx","Components/HomeNavContainer.js","Components/HomeStats.js","Pages/HomePage.jsx","Utils/History.js","Backend/APIWrapper.js","Backend/FeedData.js","Components/Feed.jsx","Pages/FeedData.jsx","Components/GraphCard.jsx","Components/SimpleBarGraph.jsx","Components/PieChart.jsx","Pages/GraphPage.jsx","Pages/MostActiveUsers.jsx","Pages/MostActivePages.jsx","Pages/LargestRecentEdits.jsx","Pages/RecentEditSize.jsx","Pages/ProportionFlagged.jsx","Components/PieChartRefresh.jsx","Backend/Cache.js","Backend/searchingFunctionality.js","Pages/NumberOfChanges.jsx","Pages/TestPage.jsx","Pages/UsersByMostEditsPage.jsx","Pages/AboutPage.jsx","Components/SearchBar.js","Components/UserFeed.jsx","Components/GraphCardSearch.jsx","Pages/NumberOfChangesUser.jsx","Components/CalendarGraph.jsx","Pages/UserContributionsOverTime.jsx","Pages/UsersSearchPage.jsx","Components/PageFeed.jsx","Pages/PageRevisionsOverTime.jsx","Pages/PageRevisionsPage.jsx","Pages/TestComponent.jsx","App.js","serviceWorker.js","index.js"],"names":["TitleContainer","className","this","props","title","subtitle","React","Component","NavbarLocal","state","history","activePage","window","location","href","Navbar","Collapse","Nav","Link","as","to","endsWith","target","rel","HomeNavContainer","styled","btnTitle1","btnTitle2","btnLink","type","btnStyle","btnText","HomeStats","text","errorCode","updateStats","$","ajax","url","success","response","html","find","intervalID","setInterval","clearInterval","id","HomePage","icon","faBars","faChartLine","faUser","createBrowserHistory","API_ENDPOINT","getMostEditsUsers","a","compare","b","editcount","users","query","action","format","list","auprop","aulimit","auwitheditsonly","auactiveusers","then","data","allusers","sort","getRecentEditsWithSize","edits","rcprop","rclimit","result","recentchanges","getRecentEditsWithFlags","revids","map","recentChange","revid","getScore","scores","label","value","color","Object","values","forEach","score","undefined","damaging","prediction","getRecentLargestEdits","editList","item","Math","abs","newlen","oldlen","toString","getMostActivePages","prevTimestamp","queryRecentChanges","recentChanges","newTimestamp","activePages","countPageOccurances","getRecentActiveUsers","activeUsers","countUsers","batchQuery","itemsKey","items","endpoint","params","batches","Array","createBatch","results","batch","join","push","catch","err","Promise","all","tmpTimestamp","Date","toISOString","rcstart","rcend","revisionIds","getUserGroups","userNames","usprop","groups","queryResult","userObj","name","n","paramsString","URLSearchParams","fetch","json","setTimeout","length","resultBatch","wikidatawiki","titleCounts","change","actions","titles","entries","userCounts","user","numActions","username","array","size","splice","FeedData","maxItems","changes","newTimeStamp","usernames","unshift","pop","getTimeDifference","toCompare","round","getTime","Feed","useState","feedData","paused","setPaused","setRecentChanges","useEffect","refresh","onChange","prevPause","index","timestamp","GraphCard","onClick","pageLink","graph","Card","tag","Body","Title","SimpleBarGraph","tooltip","click","src","indexValue","loadData","settings","getData","bind","smlData","slice","fullGraph","setState","loaded","method","refreshMethod","refreshInterval","refreshTime","margin","classname","clickable","legend","colorBy","top","right","bottom","left","keys","indexBy","padding","colors","scheme","borderColor","from","modifiers","axisTop","axisRight","axisBottom","tickSize","tickPadding","tickRotation","xAxis","legendPosition","legendOffset","axisLeft","yAxis","enableLabel","animate","isInteractive","motionStiffness","motionDamping","legends","PieChart","colorFunction","innerRadius","padAngle","cornerRadius","enableRadialLabels","radialLabel","radialLabelsSkipAngle","radialLabelsTextXOffset","radialLabelsTextColor","radialLabelsLinkOffset","radialLabelsLinkDiagonalLength","radialLabelsLinkHorizontalLength","radialLabelsLinkStrokeWidth","radialLabelsLinkColor","enableSlicesLabels","slicesLabelsSkipAngle","slicesLabelsTextColor","defs","background","rotation","lineWidth","spacing","fill","match","GraphPage","explanation","handlePause","MostActiveUsersGraphSettings","fullData","userAdditions","i","includes","bot","human","dataFrom","anchor","direction","justify","translateX","translateY","itemsSpacing","itemWidth","itemHeight","itemDirection","itemOpacity","symbolSize","effects","on","style","open","MostActiveUsers","event","MostActivePagesGraphSettings","pageAdditions","MostActivePages","LargestRecentEditsSettings","LargestRecentEdits","require","alt","RecentEditSizeSettings","RecentEditSize","ProportionFlaggedSettings","ProportionFlagged","PieChartRefresh","dataFinished","loadDataCont","initialCall","refreshCont","changeValue","initialWait","loading","Data","time","now","Cache","searchId","cleanCache","oldest","WIKIDATA_ENDPOINT","WIKIPEDIA_ENDPOINT_SEARCH","userSearchCache","XMLHttpRequest","pageRevCache","wikibaseCache","prefixCache","userSearch","cacheResult","getCache","uclimit","ucuser","wikipediaQuery","userContributionsSeperator","usercontribs","addCache","userSearchCont","cont","uccontinue","pageRevisionsSearch","searchitem","getWikibaseItem","getRevisionsOfPage","pageRevisionsSearchCont","getRevisionsOfPageCont","extraResult","json1","temp","hasOwnProperty","pageprops","wikibase_item","getRevisions","revisions","searchItem","prop","pages","qid","rvprops","rvlimit","getRevisionsHelper","rvcontinue","getPrefixSearch","pssearch","NumberOfChangesSettings","searchValue","str","keyValue","myMap","Map","has","set","reduce","s","o","j","singleArray","concat","NumberOfChanges","key","onRef","search","e","CardDeck","UsersByMostEditsGraphSettings","UsersByMostEditsPage","AboutPage","setData","currentStudent","firstName","lastName","year","team","github","studentList","faLink","faGithub","SearchBar","setSearch","suggestions","setSuggestions","pub","setPub","parseData","prefixsearch","obj","sugg","pageid","handleSubmit","preventDefault","autoComplete","onSubmit","height","display","flexDirection","position","backgroundColor","marginRight","width","borderStyle","suggestion","PageFeed","max","togglePause","utils","comment","GraphCardSearch","NumberOfChangesUserSettings","CalendarGraph","render","emptyColor","yearSpacing","monthBorderColor","dayBorderWidth","dayBorderColor","itemCount","UserContributionsOverTimeSettings","nextVals","day","UserContributionsOverTime","UsersSearchPage","checkUser","ifConfirm","firmsList","invalidSearch","bool","feed","onclick","overTime","UserFeed","ref","SearchSettings","NumberOfChangesUser","PageRevisionsOverTimeSettings","PageRevisionsOverTime","PageRevisionsPage","val","searchSuggestions","TestComponent","justifyContent","App","basename","process","exact","path","component","TestPage","split","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e8befbfa.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/legend.9527bbb6.svg\";","import React from 'react';\r\n\r\nclass TitleContainer extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\" text-left\">\r\n        <h1 className=\"text-left  display-3\">\r\n          <b>{this.props.title}</b>\r\n        </h1>\r\n        <h4>{this.props.subtitle}</h4>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TitleContainer;\r\n","import React, { Component } from 'react';\r\nimport { Nav, Navbar } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//Creates the Navbar shown on all pages\r\n\r\nclass NavbarLocal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { history: this.props.history };\r\n  }\r\n  render() {\r\n    // var isActive = this.context.router.route.location.pathname\r\n    const activePage = window.location.href;\r\n    return (\r\n      <Navbar>\r\n        <Navbar.Collapse>\r\n          <Nav>\r\n            <Nav.Link\r\n              as={Link}\r\n              to=\"/\"\r\n              className={\r\n                activePage.endsWith('/') ? 'nav-link--active' : 'nav-link'\r\n              }\r\n            >\r\n              Home\r\n            </Nav.Link>\r\n\r\n            <Nav.Link\r\n              as={Link}\r\n              to=\"/page\"\r\n              className={\r\n                activePage.endsWith('/page') ? 'nav-link--active' : 'nav-link'\r\n              }\r\n            >\r\n              Dashboard\r\n            </Nav.Link>\r\n\r\n            <Nav.Link\r\n              as={Link}\r\n              to=\"/feed\"\r\n              className={\r\n                activePage.endsWith('/feed') ? 'nav-link--active' : 'nav-link'\r\n              }\r\n            >\r\n              Feed\r\n            </Nav.Link>\r\n\r\n            <Nav.Link\r\n              as={Link}\r\n              to=\"/user-search\"\r\n              className={\r\n                activePage.endsWith('/user-search')\r\n                  ? 'nav-link--active'\r\n                  : 'nav-link'\r\n              }\r\n            >\r\n              User Search\r\n            </Nav.Link>\r\n\r\n            <Nav.Link\r\n              as={Link}\r\n              to=\"/page-revisions\"\r\n              className={\r\n                activePage.endsWith('/page-revisions')\r\n                  ? 'nav-link--active'\r\n                  : 'nav-link'\r\n              }\r\n            >\r\n              Page Revisions\r\n            </Nav.Link>\r\n\r\n            <Nav.Link\r\n              as={Link}\r\n              to=\"/about-page\"\r\n              className={\r\n                activePage.endsWith('/about-page')\r\n                  ? 'nav-link--active'\r\n                  : 'nav-link'\r\n              }\r\n            >\r\n              About Us\r\n            </Nav.Link>\r\n\r\n            <a\r\n              as={Link}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              href=\"https://github.com/JeremieSD/Software-Engineering\"\r\n              className={\r\n                activePage.endsWith('/ksknc') ? 'nav-link--active' : 'nav-link'\r\n              }\r\n            >\r\n              Github Project\r\n            </a>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavbarLocal;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n//This class takes in a title and a description and displays them as shown on the homepage\r\n\r\nclass HomeNavContainer extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"ting\">\r\n        <h2 className={this.props.styled}>{this.props.btnTitle1}</h2>\r\n        <h2 className={this.props.styled}>{this.props.btnTitle2}</h2>\r\n        <br />\r\n        <Link to={this.props.btnLink}>\r\n          <button type=\"button\" className={this.props.btnStyle}>\r\n            {this.props.btnText}\r\n          </button>\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomeNavContainer;\r\n","import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { ListGroup } from 'react-bootstrap';\r\nimport $ from 'jquery';\r\n\r\n//These load the statistics from a server we set up and displays them on the homepage\r\n\r\nclass HomeStats extends Component {\r\n  state = {\r\n    text: 'something',\r\n    errorCode: 'Loading...',\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateStats();\r\n    this.intervalID = setInterval(() => this.updateStats(), 5000);\r\n  }\r\n  componentWillUnmount() {\r\n    clearInterval(this.intervalID);\r\n  }\r\n\r\n  updateStats = () => {\r\n    $.ajax({\r\n      url:\r\n        'https://protected-shelf-93081.herokuapp.com/https://www.wikidata.org/wiki/Special:Statistics',\r\n      type: 'GET',\r\n      success: function(response) {\r\n        $('#div1').html(\r\n          $($(response).find('.mw-statistics-articles')).find(\r\n            '.mw-statistics-numbers'\r\n          )\r\n        );\r\n        $('#div2').html(\r\n          $($(response).find('.mw-statistics-edits')).find(\r\n            '.mw-statistics-numbers'\r\n          )\r\n        );\r\n        $('#div3').html(\r\n          $($(response).find('.mw-statistics-users')).find(\r\n            '.mw-statistics-numbers'\r\n          )\r\n        );\r\n        $('#div4').html(\r\n          $($(response).find('.mw-statistics-users-active')).find(\r\n            '.mw-statistics-numbers'\r\n          )\r\n        );\r\n      },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"row col-lg-12 mx-auto col-12 justify-content-center  homeStatContainer text-left\">\r\n        <div className=\"col-lg-3 col-12 homeStat\">\r\n          <h1 id=\"div1\">{this.state.errorCode}</h1>\r\n          <h1>Items</h1>\r\n        </div>\r\n\r\n        <div className=\"col-lg-3 col-12 homeStat\">\r\n          <h1 id=\"div2\">{this.state.errorCode}</h1>\r\n          <h1>Edits</h1>\r\n        </div>\r\n\r\n        <div className=\"col-lg-3 col-12 homeStat\">\r\n          <h1 id=\"div3\">{this.state.errorCode}</h1>\r\n          <h1>Users</h1>\r\n        </div>\r\n\r\n        <div className=\"col-lg-3 col-12  homeStat\">\r\n          <h1 id=\"div4\">{this.state.errorCode}</h1>\r\n          <h1>Active Users</h1>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomeStats;\r\n","import React, { Component } from 'react';\r\nimport TitleContainer from '../Components/TitleContainer';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Navbar from '../Components/Navbar';\r\nimport HomeNavContainer from '../Components/HomeNavContainer';\r\nimport HomeStatsContainer from '../Components/HomeStats';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faChartLine } from '@fortawesome/free-solid-svg-icons';\r\nimport { faBars } from '@fortawesome/free-solid-svg-icons';\r\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\r\n\r\n/*This is the home page and makes use of the Navbar, \r\nhomeNavContainer, homeStatsContainer and TitleContainer components */\r\n\r\nclass HomePage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { history: this.props.history };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"HomePage\">\r\n        <Navbar history={this.state.history} />\r\n        <div className=\"HomePageContent row margin-right: -15px margin-left: -15px\">\r\n          <div className=\"col-lg-5 col-sm-12\">\r\n            <TitleContainer\r\n              title=\"Wikidata Live\"\r\n              subtitle=\"A web app to visualise recent changes to Wikidata in quasi real time.\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-7 col-sm-12 homeNav\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-4 col-sm-12\">\r\n                <h1 className=\"text-red\">\r\n                  <FontAwesomeIcon icon={faBars} />\r\n                </h1>\r\n                <HomeNavContainer\r\n                  styled=\"font-weight-bold text-red\"\r\n                  btnStyle=\"align-bottom btn btn-outline-red\"\r\n                  btnTitle1=\"About\"\r\n                  btnTitle2=\"Us\"\r\n                  btnText=\"About\"\r\n                  btnLink=\"/about-page\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-4 col-sm-12 homeNav\">\r\n                <h1 className=\"text-green\">\r\n                  <FontAwesomeIcon icon={faChartLine} />\r\n                </h1>\r\n                <HomeNavContainer\r\n                  styled=\"font-weight-bold text-green\"\r\n                  btnStyle=\"align-bottom btn btn-outline-green\"\r\n                  btnTitle1=\"Wikidata\"\r\n                  btnTitle2=\"Dashboard\"\r\n                  btnText=\"Dashboard\"\r\n                  btnLink=\"/page\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-4 col-sm-12 homeNav\">\r\n                <h1 className=\"text-blue\">\r\n                  <FontAwesomeIcon icon={faUser} />\r\n                </h1>\r\n                <HomeNavContainer\r\n                  styled=\"font-weight-bold text-blue\"\r\n                  btnStyle=\"align-bottom btn btn-outline-blue\"\r\n                  btnTitle1=\"User\"\r\n                  btnTitle2=\"Data\"\r\n                  btnText=\"Users\"\r\n                  btnLink=\"/most-active-users\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"statsContent row justify-content-center\">\r\n          <HomeStatsContainer />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomePage;\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();\r\n","const API_ENDPOINT = 'https://www.wikidata.org/w/api.php';\r\nconst SCORING_ENDPOINT = 'https://ores.wikimedia.org/v3/scores/wikidatawiki/';\r\nconst MAX_QUERY_SIZE = 50;\r\nconst NUM_RETRIES = 5;\r\n\r\n/**\r\n * @typedef {Object} User\r\n * @property {number} userid - The user's id\r\n * @property {number} name - The user's name\r\n * @property {number} editcount - The number of edits the user did\r\n * @property {number} recentactions - The number of actions a user did within\r\n *           30 days\r\n * @property {Array} groups - An array of strings which contains the groups\r\n *           the user belongs in. For example if the user contains \"bot\", it is\r\n *           a non human user\r\n */\r\n\r\n/**\r\n * Returns a list of 500 users who were recently active within 30 days which is\r\n * sorted by the most edits in descending order\r\n *\r\n * @returns {Promise.<User[]>} - A Promise which resolves to an array of User\r\n *          objects\r\n */\r\nexport const getMostEditsUsers = async () => {\r\n  const compare = (a, b) => b.editcount - a.editcount;\r\n  const params = {\r\n    action: 'query',\r\n    format: 'json',\r\n    list: 'allusers',\r\n    auprop: 'editcount|groups',\r\n    aulimit: 'max',\r\n    auwitheditsonly: '1',\r\n    auactiveusers: '1',\r\n  };\r\n  const users = query(API_ENDPOINT, params, NUM_RETRIES)\r\n    .then(data => data.query.allusers)\r\n    .then(users => users.sort(compare));\r\n  return users;\r\n};\r\n/**\r\n * Returns a list of 500 users who were recently active within 30 days which is\r\n * sorted by the most recent actions in descending order\r\n *\r\n * @returns {Promise.<User[]>} - A Promise which resolves to an array of User\r\n *          objects\r\n */\r\nexport const getMostActiveUsers = async () => {\r\n  const compare = (a, b) => b.recentactions - a.recentactions;\r\n  const params = {\r\n    action: 'query',\r\n    format: 'json',\r\n    list: 'allusers',\r\n    auprop: 'editcount|groups',\r\n    aulimit: 'max',\r\n    auwitheditsonly: '1',\r\n    auactiveusers: '1',\r\n  };\r\n  const users = query(API_ENDPOINT, params, NUM_RETRIES)\r\n    .then(data => data.query.allusers)\r\n    .then(users => users.sort(compare));\r\n  return users;\r\n};\r\n\r\nexport const getRecentEditsWithSize = async () => {\r\n  const params = {\r\n    action: 'query',\r\n    format: 'json',\r\n    list: 'recentchanges',\r\n    rcprop: 'title|ids|sizes|timestamp',\r\n    rclimit: '500',\r\n  };\r\n  const edits = query(API_ENDPOINT, params, NUM_RETRIES).then(\r\n    result => result.query.recentchanges\r\n  );\r\n  return await edits;\r\n};\r\n\r\nexport const getRecentEditsWithFlags = async () => {\r\n  const params = {\r\n    action: 'query',\r\n    format: 'json',\r\n    list: 'recentchanges',\r\n    rcprop: 'ids',\r\n    rclimit: '50',\r\n  };\r\n  const edits = query(API_ENDPOINT, params, NUM_RETRIES).then(\r\n    result => result.query.recentchanges\r\n  );\r\n\r\n  let revids = await edits;\r\n  revids = revids.map(recentChange => recentChange.revid);\r\n  let scores = await getScore(revids);\r\n\r\n  const data = [\r\n    { id: 'damaging', label: 'damaging', value: 0, color: '#F25543' },\r\n    { id: 'unsure', label: 'unsure', value: 0, color: '#FFF047' },\r\n    { id: 'good faith', label: 'good faith', value: 0, color: '#92E16F' },\r\n  ];\r\n\r\n  scores = await scores;\r\n\r\n  Object.values(scores).forEach(score => {\r\n    if (\r\n      score.damaging.score !== undefined &&\r\n      score.damaging.score.prediction === true\r\n    ) {\r\n      data[0].value += 1;\r\n    } else if (\r\n      score.damaging.score !== undefined &&\r\n      score.damaging.score.prediction === false\r\n    ) {\r\n      data[2].value += 1;\r\n    } else {\r\n      data[1].value += 1;\r\n    }\r\n  });\r\n\r\n  return data;\r\n};\r\n\r\n/**\r\n * Returns recent 500 recent edits sorted by size of changes made in absolute value\r\n * So large additions and large deletions are included\r\n */\r\nexport const getRecentLargestEdits = async () => {\r\n  const editList = await getRecentEditsWithSize();\r\n\r\n  editList.forEach(item => {\r\n    item.value = Math.abs(item.newlen - item.oldlen);\r\n    item.id = item.revid.toString();\r\n    item.label = item.title;\r\n  });\r\n\r\n  editList.sort((a, b) => b.value - a.value);\r\n\r\n  return editList;\r\n};\r\n\r\n/**\r\n * @typedef {Object} PageInfo\r\n * @property {string} id - The id of the page\r\n * @property {actions} actions - Number of actions which has been performed on\r\n *           that page\r\n * @property {string} title - The title of the page\r\n */\r\n\r\n/**\r\n * Returns an array of most active pages from recent changes feed\r\n *\r\n * @param {string} prevTimestamp - Previous timestamp when the function was\r\n *        last called\r\n * @returns {(Promise.<PageInfo[]> | string)[]}\r\n */\r\nexport const getMostActivePages = async prevTimestamp => {\r\n  const [recentChanges, newTimestamp] = queryRecentChanges(prevTimestamp);\r\n  const activePages = recentChanges.then(recentChanges =>\r\n    countPageOccurances(recentChanges)\r\n  );\r\n  return [await activePages, newTimestamp];\r\n};\r\n\r\n/**\r\n * Returns an array of most users pages from recent changes feed\r\n *\r\n * @param {string} prevTimestamp - Previous timestamp when the function was\r\n *        last called\r\n * @returns {(Promise.<User[]> | string)[]}\r\n */\r\nexport const getRecentActiveUsers = async prevTimestamp => {\r\n  const [recentChanges, newTimestamp] = queryRecentChanges(prevTimestamp);\r\n  const activeUsers = recentChanges.then(activeUsers =>\r\n    countUsers(activeUsers)\r\n  );\r\n  return [await activeUsers, newTimestamp];\r\n};\r\n\r\n/**\r\n * Batches a query to cirumvent the 50 items query limit\r\n *\r\n * @param {string} itemsKey the query key\r\n * @param {Array} items the items to add to the query\r\n * @param {string} endpoint the endpoint url\r\n * @param {Object} params the parameters of the query\r\n */\r\nexport const batchQuery = async (itemsKey, items, endpoint, params) => {\r\n  const result = [];\r\n  let batches = null;\r\n  if (items instanceof Array) {\r\n    batches = createBatch(items, MAX_QUERY_SIZE);\r\n  } else {\r\n    batches = [[items]];\r\n  }\r\n  const results = batches.map(async batch => {\r\n    params[itemsKey] = batch.join('|');\r\n    return query(endpoint, params, NUM_RETRIES)\r\n      .then(data => result.push(data))\r\n      .catch(err => null);\r\n  });\r\n  await Promise.all(results);\r\n  return result;\r\n};\r\n\r\n/**\r\n * @typedef {Object} RecentChanges\r\n * @property {number} newlen - the number of bytes the page uses after the change\r\n * @property {number} ns\r\n * @property {number} old_revid - The old revision id\r\n * @property {number} oldlen - the number of bytes the page uses before the change\r\n * @property {number} pageid - The page id\r\n * @property {number} rcid - The recent change id\r\n * @property {number} revid - The current revision id\r\n * @property {string} timestamp - Timestamp of change\r\n * @property {string} title - Title of the page changed\r\n * @property {string} type - Type of action e.g. \"new\", \"edit\"\r\n * @property {string} user - The username of the editor\r\n */\r\n\r\n/**\r\n * Queries the API for the most recent changes\r\n *\r\n * @param {string} prevTimestamp - Previous timestamp when the function was\r\n *        last called\r\n * @returns {(Promise.<RecentChanges[]> | string)[]}\r\n */\r\nexport const queryRecentChanges = prevTimestamp => {\r\n  let tmpTimestamp = new Date();\r\n  const newTimestamp = tmpTimestamp.toISOString();\r\n  tmpTimestamp = tmpTimestamp - 1000;\r\n  tmpTimestamp = new Date(tmpTimestamp).toISOString();\r\n  const params = {\r\n    action: 'query',\r\n    format: 'json',\r\n    list: 'recentchanges',\r\n    rcprop: 'title|ids|timestamp|user|sizes',\r\n    rclimit: 'max',\r\n    rcstart: tmpTimestamp,\r\n    rcend: prevTimestamp,\r\n  };\r\n  const recentChanges = query(API_ENDPOINT, params, NUM_RETRIES)\r\n    .then(data => data.query.recentchanges)\r\n    .then(recentChanges => {\r\n      const revisionIds = recentChanges.map(recentChange => recentChange.revid);\r\n      return getScore(revisionIds).then(scores =>\r\n        recentChanges.map(recentChange => {\r\n          recentChange.scores = scores[recentChange.revid];\r\n          return recentChange;\r\n        })\r\n      );\r\n    });\r\n  return [recentChanges, newTimestamp];\r\n};\r\n\r\n/**\r\n * Returns the groups of each username in the input array\r\n *\r\n * @param {string[]} userNames - an array of usernames to fetch the group of\r\n * @returns {Map.<string, string[]>} - map of username to an array of groups\r\n *         they belong to\r\n */\r\nexport const getUserGroups = userNames => {\r\n  const key = 'ususers';\r\n  const params = {\r\n    action: 'query',\r\n    format: 'json',\r\n    list: 'users',\r\n    usprop: 'groups',\r\n  };\r\n  const groups = batchQuery(key, userNames, API_ENDPOINT, params).then(data => {\r\n    const groups = {};\r\n    data.forEach(queryResult => {\r\n      const users = queryResult.query.users;\r\n      users.forEach(userObj => {\r\n        if (userObj.groups) {\r\n          groups[userObj.name] = userObj.groups;\r\n        }\r\n      });\r\n    });\r\n    return groups;\r\n  });\r\n  return groups;\r\n};\r\n\r\n// ~ Helper Functions ---------------------------------------------------------\r\n\r\n/**\r\n * Returns a the response of a query to the Wikidata API endpoint\r\n *\r\n * @param {Object} params - Object of parameters to use when querying\r\n * @param {number} n - Number of times to retry if failure occurs\r\n * @returns {Promise.<Object>}\r\n */\r\nconst query = async (endpoint, params, n) => {\r\n  try {\r\n    const paramsString = new URLSearchParams(params).toString();\r\n    const url = endpoint + '?' + paramsString + '&origin=*';\r\n    return await fetch(url).then(response => response.json());\r\n  } catch (err) {\r\n    if (n === 1) {\r\n      throw err;\r\n    }\r\n    return await setTimeout(query(endpoint, params, n - 1), 500);\r\n  }\r\n};\r\n\r\n/**\r\n * Retruns the score of the revision id to find out if the edit was harmful or not\r\n *\r\n * @param {number[]} revisionIds - Revision ids to obtain the score of\r\n * @returns {Promise.<Object>}\r\n */\r\nconst getScore = async revisionIds => {\r\n  if (revisionIds.length === 0) {\r\n    return;\r\n  }\r\n  const key = 'revids';\r\n  const params = {};\r\n  let scores = {};\r\n  return batchQuery(key, revisionIds, SCORING_ENDPOINT, params).then(\r\n    resultBatch => {\r\n      resultBatch.forEach(\r\n        result => (scores = { ...scores, ...result.wikidatawiki?.scores })\r\n      );\r\n      return scores;\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * Returns the number of times a page appeared on the recent changes feed sorted by\r\n * number of actions done on the page\r\n *\r\n * @param {RecentChanges[]} recentChanges - The array of recent changes from a query\r\n */\r\nconst countPageOccurances = recentChanges => {\r\n  const compare = (a, b) => b.actions - a.actions;\r\n  const titleCounts = {};\r\n  recentChanges.forEach(change => {\r\n    const actions = titleCounts[change.title] || 0;\r\n    titleCounts[change.title] = actions + 1;\r\n  });\r\n  const titles = Object.entries(titleCounts).map(([id, actions]) => ({\r\n    id,\r\n    actions,\r\n  }));\r\n  titles.sort(compare);\r\n  return titles;\r\n};\r\n\r\n/**\r\n * Returns the number of times a user appeared on the recent changes feed sorted by\r\n * number of actions done by that user\r\n *\r\n * @param {RecentChanges[]} recentChanges - The array of recent changes from a query\r\n */\r\nconst countUsers = recentChanges => {\r\n  const compare = (a, b) => b.actions - a.actions;\r\n  const userCounts = {};\r\n  recentChanges.forEach(change => {\r\n    const user = change.user;\r\n    const numActions = userCounts[user] || 0;\r\n    userCounts[user] = numActions + 1;\r\n  });\r\n  const users = Object.entries(userCounts).map(([username, actions]) => ({\r\n    username,\r\n    actions,\r\n  }));\r\n  const userNames = users.map(({ username }) => username);\r\n  getUserGroups(userNames).then(groups => {\r\n    users.forEach(userObj => (userObj.groups = groups[userObj.username]));\r\n    users.sort(compare);\r\n  });\r\n  return users;\r\n};\r\n\r\n/**\r\n * Splits up an array into smaller arrays\r\n *\r\n * @param {Array} array - Array to create batches from\r\n * @param {number} size - Batch size\r\n * @returns {Array} batches - An array containing the batches which are of\r\n *         length size\r\n */\r\nconst createBatch = (array, size) => {\r\n  const batches = [];\r\n  while (array.length > 0) {\r\n    batches.push(array.splice(0, size));\r\n  }\r\n  return batches;\r\n};\r\n","import { queryRecentChanges, getUserGroups } from './APIWrapper';\r\n\r\n/** Class which wraps the Wikidata API recent changes feed */\r\nclass FeedData {\r\n  /**\r\n   * Create a new feed data object\r\n   *\r\n   * @param {number} maxItems - the maximum number of items to keep in the\r\n   *        feed.\r\n   */\r\n  constructor(maxItems) {\r\n    this.changes = [];\r\n    this.maxItems = maxItems;\r\n    this.prevTimestamp = new Date().toISOString();\r\n  }\r\n\r\n  refresh() {\r\n    const [recentChanges, newTimeStamp] = queryRecentChanges(\r\n      this.prevTimestamp\r\n    );\r\n    recentChanges.then(changes => {\r\n      const usernames = changes.map(change => change.user);\r\n      getUserGroups(usernames).then(groups =>\r\n        changes.forEach(change => {\r\n          change.groups = groups[change.user];\r\n          this.changes.unshift(change);\r\n          if (this.changes.length > this.maxItems) {\r\n            this.changes.pop();\r\n          }\r\n        })\r\n      );\r\n    });\r\n    this.prevTimestamp = newTimeStamp;\r\n  }\r\n}\r\n\r\nexport default FeedData;\r\n","import React, { useState, useEffect } from 'react';\r\nimport FeedData from '../Backend/FeedData';\r\nimport Navbar from '../Components/Navbar';\r\n// eslint-disable-next-line\r\nimport style from '../style.css'\r\n\r\n//Creates the feed shown on the dashboard, it updates in real time and highlights suspicious changes in red\r\n\r\nfunction Feed() {\r\n  const [feedData] = useState(new FeedData(30));\r\n  const [paused, setPaused] = useState(false);\r\n  const [recentChanges, setRecentChanges] = useState({\r\n    items: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const refresh = setInterval(() => {\r\n      if (!paused) {\r\n        feedData.refresh();\r\n      }\r\n      setRecentChanges({ items: feedData.changes });\r\n    }, 500);\r\n    return () => clearInterval(refresh);\r\n  }, [feedData, paused]);\r\n\r\n  function togglePause() {\r\n    setPaused(prevPause => !prevPause);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3 className=\"text-blue text-left\">Most Recent Activity</h3>\r\n      <form className=\"text-left\" onChange={togglePause}>\r\n        <label>\r\n          <input type=\"checkbox\" /> Paused\r\n        </label>\r\n      </form>\r\n      <ul className=\"list-group\">\r\n        {recentChanges.items.map((item, index) => (\r\n          <li className=\"list-group-item text-left\" key={index}>\r\n            <div\r\n              className={\r\n                item.scores?.damaging?.score?.prediction ? 'text-red' : ''\r\n              }\r\n            >\r\n              {`User ${item.user} action ${item.type} on ${\r\n                item.title\r\n              } ${getTimeDifference(item.timestamp)} seconds ago`}\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst getTimeDifference = toCompare =>\r\n  Math.round(\r\n    Math.abs(new Date().getTime() - new Date(toCompare).getTime()) / 1000\r\n  );\r\n\r\nexport default Feed;\r\n","import React, { Component } from 'react';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Navbar from '../Components/Navbar';\r\nimport Feed from '../Components/Feed';\r\n\r\n/*This is the home page and makes use of the Navbar, \r\nhomeNavContainer, homeStatsContainer and TitleContainer components */\r\n\r\nclass FeedData extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { history: this.props.history };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"HomePage\">\r\n        <Navbar history={this.state.history} />\r\n        <div className=\"\">\r\n          <Feed />\r\n        </div>\r\n        .{' '}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FeedData;\r\n","import Card from 'react-bootstrap/Card';\r\nimport React, { Component } from 'react';\r\n\r\nclass GraphCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      title: this.props.title,\r\n      pageLink: this.props.pageLink,\r\n      graph: this.props.graph,\r\n    };\r\n  }\r\n\r\n  onClick = () => {\r\n    this.state.history.push(this.state.pageLink);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Card onClick={this.onClick} tag=\"a\" className=\"graph-card\">\r\n        <Card.Body>\r\n          <Card.Title className=\"card-title\">{this.state.title}</Card.Title>\r\n          {this.state.graph}\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GraphCard;\r\n","import React, { Component } from 'react';\r\nimport { ResponsiveBar } from '@nivo/bar';\r\n\r\nclass SimpleBarGraph extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loaded: false,\r\n      data: null,\r\n      fullGraph: this.props.fullGraph,\r\n    };\r\n\r\n    this.loadData();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshInterval = setInterval(async () => {\r\n      await this.refresh();\r\n    }, this.props.settings.refreshTime);\r\n  }\r\n\r\n  tooltip = function(click, url) {\r\n    return (\r\n      <div className=\"iframe-container\">\r\n        <iframe\r\n          src={url + click.indexValue}\r\n          className=\"iframe\"\r\n          title=\"tooltip-option-2\"\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  loadData = () => {\r\n    const getData = this.props.settings.getData.bind(this);\r\n    getData().then(data => {\r\n      const smlData = data.slice(0, this.state.fullGraph ? 30 : 10);\r\n      this.setState({\r\n        loaded: true,\r\n        data: smlData,\r\n      });\r\n    });\r\n  };\r\n\r\n  refresh = async () => {\r\n    if (!this.props.paused) {\r\n      const method = this.props.settings.refreshMethod.bind(this);\r\n      await method();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let margin = {};\r\n    let label = null;\r\n    let classname = '';\r\n    let onClick = null;\r\n    let clickable = false;\r\n    let tooltip = null;\r\n    let legend = [];\r\n    const colorBy = this.props.settings.colorBy\r\n      ? this.props.settings.colorBy\r\n      : 'index';\r\n    if (this.state.fullGraph) {\r\n      if (this.props.settings.margin) {\r\n        margin = this.props.settings.margin;\r\n      } else {\r\n        margin = { top: 5, right: 30, bottom: 80, left: 80 };\r\n      }\r\n      if (this.props.settings.legend) {\r\n        legend = [this.props.settings.legend];\r\n      }\r\n      label = true;\r\n      classname = 'full-graph-container';\r\n      if (this.props.settings.onClick) {\r\n        onClick = this.props.settings.onClick;\r\n        clickable = true;\r\n      }\r\n      if (this.props.settings.tooltip) {\r\n        tooltip = this.props.settings.tooltip.bind(this);\r\n      }\r\n    } else {\r\n      margin = { top: 0, right: 0, bottom: 0, left: 0 };\r\n      label = false;\r\n      classname = 'Graph-Container-Card';\r\n    }\r\n    return (\r\n      <div>\r\n        {!this.state.loaded ? (\r\n          'Loading...'\r\n        ) : (\r\n          <div className={classname}>\r\n            <ResponsiveBar\r\n              data={this.state.data}\r\n              keys={this.props.settings.keys}\r\n              indexBy={this.props.settings.index}\r\n              margin={margin}\r\n              padding={0.3}\r\n              colors={{ scheme: this.props.settings.colors }}\r\n              colorBy={colorBy}\r\n              borderColor={{ from: 'color', modifiers: [['darker', 1.6]] }}\r\n              axisTop={null}\r\n              axisRight={null}\r\n              axisBottom={{\r\n                tickSize: 5,\r\n                tickPadding: 5,\r\n                tickRotation: 30,\r\n                legend: this.props.settings.xAxis,\r\n                legendPosition: 'start',\r\n                legendOffset: 40,\r\n              }}\r\n              axisLeft={{\r\n                tickSize: 5,\r\n                tickPadding: 5,\r\n                tickRotation: 0,\r\n                legend: this.props.settings.yAxis,\r\n                legendPosition: 'middle',\r\n                legendOffset: -60,\r\n              }}\r\n              enableLabel={label}\r\n              onClick={clickable ? onClick : function() {}}\r\n              animate={label}\r\n              isInteractive={label}\r\n              motionStiffness={90}\r\n              motionDamping={15}\r\n              tooltip={tooltip}\r\n              legends={legend}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SimpleBarGraph;\r\n","import React, { Component } from 'react';\r\nimport { ResponsivePie } from '@nivo/pie';\r\nimport { ThemeProvider } from 'react-bootstrap';\r\n\r\nclass PieChart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loaded: false,\r\n      data: null,\r\n      fullGraph: this.props.fullGraph,\r\n    };\r\n    this.loadData();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshInterval = setInterval(async () => {\r\n      await this.refresh();\r\n    }, this.props.settings.refreshTime);\r\n  }\r\n\r\n  tooltip = function(click, url) {\r\n    return (\r\n      <div className=\"iframe-container\">\r\n        <iframe\r\n          src={url + click.label}\r\n          className=\"iframe\"\r\n          title=\"tooltip-option-2\"\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  loadData = () => {\r\n    const getData = this.props.settings.getData.bind(this);\r\n    getData().then(data => {\r\n      const smlData = data.slice(0, this.state.fullGraph ? 30 : 10);\r\n      this.setState({\r\n        loaded: true,\r\n        data: smlData,\r\n      });\r\n    });\r\n  };\r\n\r\n  refresh = async () => {\r\n    if (!this.props.paused) {\r\n      this.loadData();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let margin = {};\r\n    let label = null;\r\n    let classname = '';\r\n    let onClick = () => {};\r\n    let tooltip = null;\r\n    let colors = { scheme: this.props.settings.colors };\r\n    if (this.props.settings.colorFunction) {\r\n      colors = this.props.settings.colorFunction;\r\n    }\r\n    if (this.state.fullGraph) {\r\n      margin = { top: 30, right: 30, bottom: 30, left: 30 };\r\n      label = true;\r\n      classname = 'full-graph-container';\r\n\r\n      if (this.props.settings.onClick) {\r\n        onClick = this.props.settings.onClick;\r\n      }\r\n      if (this.props.settings.tooltip) {\r\n        tooltip = this.props.settings.tooltip.bind(this);\r\n      }\r\n    } else {\r\n      margin = { top: 0, right: 0, bottom: 0, left: 0 };\r\n      label = false;\r\n      classname = 'Graph-Container-Card';\r\n    }\r\n    return (\r\n      <div>\r\n        {!this.state.loaded ? (\r\n          'Loading...'\r\n        ) : (\r\n          <div className={classname}>\r\n            <ResponsivePie\r\n              data={this.state.data}\r\n              margin={margin}\r\n              innerRadius={0.4}\r\n              padAngle={0}\r\n              cornerRadius={0}\r\n              colors={colors}\r\n              enableRadialLabels={label}\r\n              radialLabel=\"label\"\r\n              radialLabelsSkipAngle={10}\r\n              radialLabelsTextXOffset={6}\r\n              radialLabelsTextColor=\"#333333\"\r\n              radialLabelsLinkOffset={0}\r\n              radialLabelsLinkDiagonalLength={16}\r\n              radialLabelsLinkHorizontalLength={24}\r\n              radialLabelsLinkStrokeWidth={1}\r\n              radialLabelsLinkColor={{ from: 'color' }}\r\n              enableSlicesLabels={label}\r\n              slicesLabelsSkipAngle={10}\r\n              slicesLabelsTextColor=\"#333333\"\r\n              animate={true}\r\n              motionStiffness={90}\r\n              motionDamping={15}\r\n              // defs={[\r\n              //   {\r\n              //     id: 'dots',\r\n              //     type: 'patternDots',\r\n              //     background: 'inherit',\r\n              //     color: 'rgba(255, 255, 255, 0.3)',\r\n              //     size: 4,\r\n              //     padding: 1,\r\n              //     stagger: true,\r\n              //   },\r\n              //   {\r\n              //     id: 'lines',\r\n              //     type: 'patternLines',\r\n              //     background: 'inherit',\r\n              //     color: 'rgba(255, 255, 255, 0.3)',\r\n              //     rotation: -45,\r\n              //     lineWidth: 6,\r\n              //     spacing: 10,\r\n              //   },\r\n              // ]}\r\n              isInteractive={this.state.fullGraph}\r\n              onClick={onClick}\r\n              tooltip={tooltip}\r\n              defs={[\r\n                {\r\n                  id: 'lines',\r\n                  type: 'patternLines',\r\n                  background: 'inherit',\r\n                  color: 'rgba(255, 255, 255, 0.4)',\r\n                  rotation: -45,\r\n                  lineWidth: 6,\r\n                  spacing: 10,\r\n                },\r\n              ]}\r\n              fill={[\r\n                {\r\n                  match: {\r\n                    type: 'edit',\r\n                  },\r\n                  id: 'lines',\r\n                },\r\n              ]}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PieChart;\r\n","import React, { Component } from 'react';\r\nimport Navbar from '../Components/Navbar';\r\n\r\nclass GraphPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      history: this.props.history,\r\n      title: this.props.name,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"HomePage\">\r\n        <Navbar history={this.state.history} />\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-3 col-12 infobox\">\r\n            <h2>{this.state.title}</h2>\r\n            <p />\r\n            <p>{this.props.explanation}</p>\r\n            <p>\r\n              <form onChange={this.props.handlePause}>\r\n                <label>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"paused\"\r\n                    name=\"paused\"\r\n                    value={this.props.paused}\r\n                  />{' '}\r\n                  {'Paused'}\r\n                </label>\r\n              </form>\r\n            </p>\r\n          </div>\r\n          <div className=\"col-lg-9 col-12\">{this.props.graph}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GraphPage;\r\n","import React, { Component } from 'react';\r\nimport GraphPage from './GraphPage';\r\nimport SimpleBarGraph from '../Components/SimpleBarGraph';\r\nimport { getRecentActiveUsers } from '../Backend/APIWrapper';\r\n\r\nexport const MostActiveUsersGraphSettings = {\r\n  getData: async function() {\r\n    let [data, newTimestamp] = await getRecentActiveUsers(\r\n      new Date().toISOString()\r\n    );\r\n    data = data.slice(0, 50);\r\n    this.setState({\r\n      fullData: data,\r\n      prevTimestamp: newTimestamp,\r\n    });\r\n    return data;\r\n  },\r\n  refreshTime: 2000,\r\n  refreshMethod: async function() {\r\n    let [data, newTimestamp] = await getRecentActiveUsers(\r\n      this.state.prevTimestamp\r\n    );\r\n    this.setState({ prevTimestamp: newTimestamp });\r\n    data = data.slice(0, 50);\r\n    if (this.state.fullData) {\r\n      const fullData = this.state.fullData;\r\n      data.forEach(userAdditions => {\r\n        let index = -1;\r\n        for (let i = 0; i < fullData.length; i += 1) {\r\n          if (fullData[i].username === userAdditions.username) {\r\n            index = i;\r\n          }\r\n        }\r\n        if (index !== -1) {\r\n          fullData[index].actions += userAdditions.actions;\r\n        } else {\r\n          fullData.push(userAdditions);\r\n        }\r\n      });\r\n      fullData.sort((a, b) => b.actions - a.actions);\r\n      fullData.slice(0, 50);\r\n      const smlData = fullData.slice(0, this.state.fullGraph ? 30 : 10);\r\n      smlData.forEach(user => {\r\n        if (user.groups !== undefined && user.groups.includes('bot')) {\r\n          user.bot = user.actions;\r\n          user.human = 0;\r\n        } else {\r\n          user.bot = 0;\r\n          user.human = user.actions;\r\n        }\r\n      });\r\n\r\n      this.setState({ fullData: fullData, data: smlData });\r\n    } else {\r\n      const smlData = data.slice(0, this.state.fullGraph ? 30 : 10);\r\n\r\n      this.setState({ data: smlData });\r\n    }\r\n  },\r\n  keys: ['bot', 'human'],\r\n  index: 'username',\r\n  xAxis: 'username',\r\n  yAxis: 'actions',\r\n  colors: 'set2',\r\n  colorBy: 'id',\r\n  legend: {\r\n    dataFrom: 'keys',\r\n    anchor: 'bottom-right',\r\n    direction: 'column',\r\n    justify: false,\r\n    translateX: 120,\r\n    translateY: 0,\r\n    itemsSpacing: 2,\r\n    itemWidth: 100,\r\n    itemHeight: 20,\r\n    itemDirection: 'left-to-right',\r\n    itemOpacity: 0.85,\r\n    symbolSize: 20,\r\n    effects: [\r\n      {\r\n        on: 'hover',\r\n        style: {\r\n          itemOpacity: 1,\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  margin: { top: 5, right: 130, bottom: 50, left: 80 },\r\n  onClick: function(click) {\r\n    window.open(\r\n      'https://www.wikidata.org/wiki/User:' + click.indexValue,\r\n      '_blank'\r\n    );\r\n  },\r\n  tooltip: function(click) {\r\n    return this.tooltip(click, 'https://www.wikidata.org/wiki/User:');\r\n  },\r\n};\r\n\r\nclass MostActiveUsers extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      paused: false,\r\n    };\r\n  }\r\n\r\n  handlePause = event => {\r\n    const paused = this.state.paused;\r\n    this.setState({ paused: !paused });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <GraphPage\r\n        handlePause={this.handlePause}\r\n        paused={this.state.paused}\r\n        explanation={\r\n          'A live view of the users active right now. The graph shows users active since this page was loaded.' +\r\n          \" Hover over a bar to get a preview of the user's page, or click to open the user's page in a new tab.\"\r\n        }\r\n        graph={\r\n          <SimpleBarGraph\r\n            fullGraph={true}\r\n            settings={MostActiveUsersGraphSettings}\r\n            paused={this.state.paused}\r\n          />\r\n        }\r\n        name=\"Most Active Users\"\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default MostActiveUsers;\r\n","import React, { Component } from 'react';\r\nimport GraphPage from './GraphPage';\r\nimport SimpleBarGraph from '../Components/SimpleBarGraph';\r\nimport { getMostActivePages } from '../Backend/APIWrapper';\r\n\r\nexport const MostActivePagesGraphSettings = {\r\n  getData: async function() {\r\n    let [data, newTimestamp] = await getMostActivePages(\r\n      new Date().toISOString()\r\n    );\r\n    data = data.slice(0, 50);\r\n    this.setState({\r\n      fullData: data,\r\n      prevTimestamp: newTimestamp,\r\n    });\r\n    return data;\r\n  },\r\n  refreshTime: 2000,\r\n  refreshMethod: async function() {\r\n    let [data, newTimestamp] = await getMostActivePages(\r\n      this.state.prevTimestamp\r\n    );\r\n    this.setState({ prevTimestamp: newTimestamp });\r\n    data = data.slice(0, 50);\r\n    if (this.state.fullData) {\r\n      const fullData = this.state.fullData;\r\n      data.forEach(pageAdditions => {\r\n        let index = -1;\r\n        for (let i = 0; i < fullData.length; i += 1) {\r\n          if (fullData[i].id === pageAdditions.id) {\r\n            index = i;\r\n          }\r\n        }\r\n        if (index !== -1) {\r\n          fullData[index].actions += pageAdditions.actions;\r\n        } else {\r\n          fullData.push(pageAdditions);\r\n        }\r\n      });\r\n      fullData.sort((a, b) => b.actions - a.actions);\r\n      fullData.slice(0, 50);\r\n      const smlData = fullData.slice(0, this.state.fullGraph ? 30 : 10);\r\n\r\n      this.setState({ fullData: fullData, data: smlData });\r\n    } else {\r\n      const smlData = data.slice(0, this.state.fullGraph ? 30 : 10);\r\n\r\n      this.setState({ data: smlData });\r\n    }\r\n  },\r\n  keys: ['actions'],\r\n  index: 'id',\r\n  xAxis: 'pages',\r\n  yAxis: 'actions',\r\n  colors: 'pastel1',\r\n  onClick: function(click) {\r\n    window.open('https://www.wikidata.org/wiki/' + click.indexValue, '_blank');\r\n  },\r\n  tooltip: function(click) {\r\n    return this.tooltip(click, 'https://www.wikidata.org/wiki/');\r\n  },\r\n};\r\n\r\nclass MostActivePages extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      paused: false,\r\n    };\r\n  }\r\n\r\n  handlePause = event => {\r\n    const paused = this.state.paused;\r\n    this.setState({ paused: !paused });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <GraphPage\r\n        handlePause={this.handlePause}\r\n        paused={this.state.paused}\r\n        explanation={\r\n          'A live view of the pages being edited right now. The graph shows pages edited since this page was loaded.' +\r\n          ' Hover over a bar to get a preview of the page, or click to open the page in a new tab.'\r\n        }\r\n        graph={\r\n          <SimpleBarGraph\r\n            fullGraph={true}\r\n            settings={MostActivePagesGraphSettings}\r\n            paused={this.state.paused}\r\n          />\r\n        }\r\n        name=\"Most Active Pages\"\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default MostActivePages;\r\n","import React, { Component } from 'react';\r\nimport GraphPage from './GraphPage';\r\nimport PieChart from '../Components/PieChart';\r\nimport { getRecentLargestEdits } from '../Backend/APIWrapper';\r\n\r\nexport const LargestRecentEditsSettings = {\r\n  getData: getRecentLargestEdits,\r\n  refreshTime: 2000,\r\n  refreshMethod: getRecentLargestEdits,\r\n  colorBy: 'type',\r\n  colors: 'set2',\r\n  onClick: function(click) {\r\n    window.open('https://www.wikidata.org/wiki/' + click.label, '_blank');\r\n  },\r\n  tooltip: function(click) {\r\n    return this.tooltip(click, 'https://www.wikidata.org/wiki/');\r\n  },\r\n};\r\n\r\nclass LargestRecentEdits extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      paused: false,\r\n    };\r\n  }\r\n\r\n  handlePause = event => {\r\n    const paused = this.state.paused;\r\n    this.setState({ paused: !paused });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <GraphPage\r\n        handlePause={this.handlePause}\r\n        paused={this.state.paused}\r\n        explanation={\r\n          <div>\r\n            {'The largest of the last 500 edits. The number in each of the sections represents the size of the edit in bytes.' +\r\n              ' Hover over a section to get a preview of the page, or click to open the page in a new tab.'}\r\n            <p>\r\n              <img\r\n                className=\"legend\"\r\n                src={require('../legend.svg')}\r\n                alt=\"Legend\"\r\n              />\r\n            </p>\r\n          </div>\r\n        }\r\n        graph={\r\n          <PieChart\r\n            fullGraph={true}\r\n            settings={LargestRecentEditsSettings}\r\n            paused={this.state.paused}\r\n          />\r\n        }\r\n        name=\"Largest Recent Edits\"\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default LargestRecentEdits;\r\n","import React, { Component } from 'react';\r\nimport GraphPage from './GraphPage';\r\nimport PieChart from '../Components/PieChart';\r\nimport { getRecentEditsWithSize } from '../Backend/APIWrapper';\r\n\r\nexport const RecentEditSizeSettings = {\r\n  getData: async () => {\r\n    const data = await getRecentEditsWithSize();\r\n    data.forEach(item => {\r\n      item.id = item.revid.toString();\r\n      item.value = Math.abs(item.newlen - item.oldlen);\r\n      item.label = item.title;\r\n    });\r\n    return data;\r\n  },\r\n  refreshTime: 2000,\r\n  refreshMethod: async () => {\r\n    const data = await getRecentEditsWithSize();\r\n    data.forEach(item => {\r\n      item.value = Math.abs(item.newlen - item.oldlen);\r\n      item.id = item.revid.toString();\r\n      item.label = item.title;\r\n    });\r\n    return data;\r\n  },\r\n  colorBy: 'type',\r\n  colors: 'set2',\r\n  onClick: function(click) {\r\n    window.open('https://www.wikidata.org/wiki/' + click.label, '_blank');\r\n  },\r\n  tooltip: function(click) {\r\n    return this.tooltip(click, 'https://www.wikidata.org/wiki/');\r\n  },\r\n};\r\n\r\nclass RecentEditSize extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      paused: false,\r\n    };\r\n  }\r\n\r\n  handlePause = event => {\r\n    const paused = this.state.paused;\r\n    this.setState({ paused: !paused });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <GraphPage\r\n        handlePause={this.handlePause}\r\n        paused={this.state.paused}\r\n        explanation={\r\n          <div>\r\n            {'The size of the last 30 edits. The number in each of the sections represents the size of the edit in bytes.' +\r\n              ' Hover over a section to get a preview of the page, or click to open the page in a new tab.'}\r\n            <p>\r\n              <img\r\n                className=\"legend\"\r\n                src={require('../legend.svg')}\r\n                alt=\"Legend\"\r\n              />\r\n            </p>\r\n          </div>\r\n        }\r\n        graph={\r\n          <PieChart\r\n            fullGraph={true}\r\n            settings={RecentEditSizeSettings}\r\n            paused={this.state.paused}\r\n          />\r\n        }\r\n        name=\"Recent Edit Size\"\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default RecentEditSize;\r\n","import React, { Component } from 'react';\r\nimport GraphPage from './GraphPage';\r\nimport PieChart from '../Components/PieChart';\r\nimport { getRecentEditsWithFlags } from '../Backend/APIWrapper';\r\n\r\nexport const ProportionFlaggedSettings = {\r\n  getData: getRecentEditsWithFlags,\r\n  refreshTime: 2000,\r\n  refreshMethod: getRecentEditsWithFlags,\r\n  //colorFunction: d => d.color,\r\n  colorBy: 'type',\r\n  colors: 'set1',\r\n  name: 'Proportion Of Edits Flagged',\r\n};\r\n\r\nclass ProportionFlagged extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      paused: false,\r\n    };\r\n  }\r\n\r\n  handlePause = event => {\r\n    const paused = this.state.paused;\r\n    this.setState({ paused: !paused });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <GraphPage\r\n        handlePause={this.handlePause}\r\n        paused={this.state.paused}\r\n        explanation=\"The proportion of the last 50 edits that was flagged as potentially damaging.\"\r\n        graph={\r\n          <PieChart\r\n            fullGraph={true}\r\n            settings={ProportionFlaggedSettings}\r\n            paused={this.state.paused}\r\n          />\r\n        }\r\n        name={ProportionFlaggedSettings.name}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default ProportionFlagged;\r\n","import React, { Component, useEffect } from 'react';\r\nimport { ResponsivePie } from '@nivo/pie';\r\n\r\nclass PieChartRefresh extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loaded: false,\r\n      data: null,\r\n      fullGraph: this.props.fullGraph,\r\n      value: this.props.value,\r\n      initialCall: true,\r\n      dataFinished: false,\r\n      changeValue: '',\r\n      initialWait: true,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.refreshInterval = setInterval(async () => {\r\n      if (!this.props.loading) {\r\n        this.setState({\r\n          loaded: false,\r\n          initialCall: true,\r\n          dataFinished: false,\r\n        });\r\n      }\r\n      // this.setState({ value: this.props.value });\r\n      if (this.state.changeValue != this.props.value) {\r\n        this.setState({\r\n          changeValue: this.props.value,\r\n          value: this.props.value,\r\n          dataFinished: false,\r\n          initialCall: true,\r\n        });\r\n      }\r\n      if (\r\n        this.state.initialCall &&\r\n        this.state.value &&\r\n        !this.state.dataFinished\r\n      ) {\r\n        this.setState({ changeValue: this.state.value });\r\n        await this.refresh();\r\n      } else if (\r\n        !this.state.initialCall &&\r\n        this.state.value &&\r\n        !this.state.dataFinished\r\n      ) {\r\n        await this.refreshCont();\r\n      }\r\n    }, this.props.settings.refreshTime);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.refreshInterval);\r\n  }\r\n\r\n  tooltip = function(click, url) {\r\n    return (\r\n      <div className=\"iframe-container\">\r\n        <iframe\r\n          src={url + click.label}\r\n          className=\"iframe\"\r\n          title=\"tooltip-option-2\"\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  loadData = () => {\r\n    const getData = this.props.settings.getData.bind(this);\r\n    getData(this.props.value).then(data => {\r\n      if (data != -1) {\r\n        const smlData = data.slice(0, this.state.fullGraph ? 30 : 10);\r\n        this.setState({\r\n          loaded: true,\r\n          data: smlData,\r\n        });\r\n      } else {\r\n        this.setState({ dataFinished: true });\r\n      }\r\n    });\r\n  };\r\n\r\n  loadDataCont = () => {\r\n    const getData = this.props.settings.refreshMethod.bind(this);\r\n    getData(this.props.value).then(data => {\r\n      if (data != -1) {\r\n        const smlData = data.slice(0, this.state.fullGraph ? 30 : 10);\r\n        this.setState({\r\n          loaded: true,\r\n          data: smlData,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          dataFinished: true,\r\n          // value: '',\r\n          initialCall: true,\r\n          // loaded: false,\r\n          // data: null,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  refresh = async () => {\r\n    this.setState({ initialCall: false });\r\n    this.loadData();\r\n  };\r\n\r\n  refreshCont = async () => {\r\n    this.loadDataCont();\r\n  };\r\n\r\n  // togglePause() {\r\n  //   this.state.paused = !this.state.paused;\r\n  // }\r\n\r\n  render() {\r\n    let margin = {};\r\n    let label = null;\r\n    let classname = '';\r\n    let onClick = () => {};\r\n    let tooltip = null;\r\n    let colors = { scheme: this.props.settings.colors };\r\n    if (this.props.settings.colorFunction) {\r\n      colors = this.props.settings.colorFunction;\r\n    }\r\n    if (this.state.fullGraph) {\r\n      margin = { top: 30, right: 30, bottom: 30, left: 30 };\r\n      label = true;\r\n      classname = 'full-graph-container';\r\n\r\n      if (this.props.settings.onClick) {\r\n        onClick = this.props.settings.onClick;\r\n      }\r\n      if (this.props.settings.tooltip) {\r\n        tooltip = this.props.settings.tooltip.bind(this);\r\n      }\r\n    } else {\r\n      margin = { top: 0, right: 0, bottom: 0, left: 0 };\r\n      label = false;\r\n      classname = 'Graph-Container-Card';\r\n    }\r\n    return (\r\n      <div>\r\n        {!this.state.loaded ? (\r\n          'Loading...'\r\n        ) : (\r\n          <div className={classname}>\r\n            <ResponsivePie\r\n              data={this.state.data}\r\n              margin={margin}\r\n              innerRadius={0.4}\r\n              padAngle={0}\r\n              cornerRadius={0}\r\n              colors={colors}\r\n              enableRadialLabels={label}\r\n              radialLabel=\"label\"\r\n              radialLabelsSkipAngle={10}\r\n              radialLabelsTextXOffset={6}\r\n              radialLabelsTextColor=\"#333333\"\r\n              radialLabelsLinkOffset={0}\r\n              radialLabelsLinkDiagonalLength={16}\r\n              radialLabelsLinkHorizontalLength={24}\r\n              radialLabelsLinkStrokeWidth={1}\r\n              radialLabelsLinkColor={{ from: 'color' }}\r\n              enableSlicesLabels={label}\r\n              slicesLabelsSkipAngle={10}\r\n              slicesLabelsTextColor=\"#333333\"\r\n              animate={true}\r\n              motionStiffness={90}\r\n              motionDamping={15}\r\n              // defs={[\r\n              //   {\r\n              //     id: 'dots',\r\n              //     type: 'patternDots',\r\n              //     background: 'inherit',\r\n              //     color: 'rgba(255, 255, 255, 0.3)',\r\n              //     size: 4,\r\n              //     padding: 1,\r\n              //     stagger: true,\r\n              //   },\r\n              //   {\r\n              //     id: 'lines',\r\n              //     type: 'patternLines',\r\n              //     background: 'inherit',\r\n              //     color: 'rgba(255, 255, 255, 0.3)',\r\n              //     rotation: -45,\r\n              //     lineWidth: 6,\r\n              //     spacing: 10,\r\n              //   },\r\n              // ]}\r\n              isInteractive={this.state.fullGraph}\r\n              onClick={onClick}\r\n              tooltip={tooltip}\r\n              defs={[\r\n                {\r\n                  id: 'lines',\r\n                  type: 'patternLines',\r\n                  background: 'inherit',\r\n                  color: 'rgba(255, 255, 255, 0.4)',\r\n                  rotation: -45,\r\n                  lineWidth: 6,\r\n                  spacing: 10,\r\n                },\r\n              ]}\r\n              fill={[\r\n                {\r\n                  match: {\r\n                    type: 'edit',\r\n                  },\r\n                  id: 'lines',\r\n                },\r\n              ]}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PieChartRefresh;\r\n","class Data {\r\n  constructor(data) {\r\n    this.data = data;\r\n    this.time = Date.now();\r\n  }\r\n}\r\n\r\nexport class Cache {\r\n  constructor() {\r\n    this.data = {};\r\n    this.length = 0;\r\n  }\r\n\r\n  addCache(searchId, data) {\r\n    if (!this.data[searchId]) {\r\n      this.length++;\r\n    }\r\n    this.data[searchId] = new Data(data);\r\n    this.cleanCache();\r\n  }\r\n\r\n  getCache(searchId) {\r\n    if (this.data[searchId]) {\r\n      return this.data[searchId].data;\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  cleanCache() {\r\n    while (this.length > 1024) {\r\n      let oldest = null;\r\n      for (const item in this.data) {\r\n        if (oldest == null) {\r\n          oldest = item;\r\n        } else if (this.data[item].time < this.data[oldest].time) {\r\n          oldest = item;\r\n        }\r\n      }\r\n      this.length--;\r\n      delete this.data[oldest];\r\n    }\r\n  }\r\n}\r\n","import { Cache } from './Cache';\r\n\r\nconst WIKIDATA_ENDPOINT = 'https://www.wikidata.org/w/api.php';\r\nconst WIKIPEDIA_ENDPOINT_SEARCH = 'https://en.wikipedia.org/w/api.php';\r\nconst DESCRIPTION_REST_API =\r\n  'https://en.wikipedia.org/api/rest_v1/page/summary/';\r\nconst DBPEDIA_SPOTLIGHT_API = 'api.dbpedia-spotlight.org/en/annotate';\r\nconst NUMBER_OF_RETRIES = 5;\r\nconst fetch = require('node-fetch');\r\nconst XMLHttpRequest = require('xmlhttprequest').XMLHttpRequest;\r\n//const cache = getWikibaseItemCache('WIKIBASEITEM_CACHE');\r\n\r\nconst userSearchCache = new Cache();\r\nconst pageRevCache = new Cache();\r\nconst wikibaseCache = new Cache();\r\nconst prefixCache = new Cache();\r\n/*\r\n  userSearch: gets a json list of the 20 most recent contributions made my a user, along with a key to get the next 20\r\n  '' - String\r\n  # - number\r\n  Json format:\r\n  {\r\n    userid: #,\r\n    user: '',\r\n    pageid: #,\r\n    revid: #,\r\n    parentid: #,\r\n    ns: #,\r\n    title: '',\r\n    timestamp: 'YYYY-MM-DDTHH:MM:SSZ',\r\n    comment: '',\r\n    size: #\r\n  }\r\n  @params {name} - User name\r\n  @returns {Promise, Promise} - first element contains a promise of a json list of contributions made by the user\r\n                                second element contains a key to get the next 20 contributions made by the user, -1 if end of list\r\n*/\r\nexport const userSearch = async name => {\r\n  const cacheResult = userSearchCache.getCache(name);\r\n  if (cacheResult != -1) {\r\n    return cacheResult;\r\n  } else {\r\n    const params = {\r\n      action: 'query',\r\n      format: 'json',\r\n      list: 'usercontribs',\r\n      uclimit: 20,\r\n      ucuser: name,\r\n    };\r\n    const item = await wikipediaQuery(\r\n      WIKIPEDIA_ENDPOINT_SEARCH,\r\n      params,\r\n      NUMBER_OF_RETRIES\r\n    ).then(result =>\r\n      userContributionsSeperator(result.query.usercontribs, result)\r\n    );\r\n    userSearchCache.addCache(item);\r\n    return item;\r\n  }\r\n};\r\n\r\n/*\r\n  userSearchCont: gets a continued json list of the 20 most recent contributions made my a user, along with a key to get the next 20\r\n  '' - String\r\n  # - number\r\n  Json format:\r\n  {\r\n    userid: #,\r\n    user: '',\r\n    pageid: #,\r\n    revid: #,\r\n    parentid: #,\r\n    ns: #,\r\n    title: '',\r\n    timestamp: 'YYYY-MM-DDTHH:MM:SSZ',\r\n    comment: '',\r\n    size: #\r\n  }\r\n  @params {name, cont} - User name\r\n                         continue key\r\n  @returns {Promise, Promise} - first element contains a promise of a json list of contributions made by the user\r\n                                second element contains a key to get the next 20 contributions made by the user, -1 if end of list\r\n*/\r\nexport const userSearchCont = async (name, cont) => {\r\n  const cacheResult = userSearchCache.getCache(cont);\r\n  if (cacheResult != -1) {\r\n    return cacheResult;\r\n  } else {\r\n    const params = {\r\n      action: 'query',\r\n      format: 'json',\r\n      list: 'usercontribs',\r\n      uclimit: 20,\r\n      ucuser: name,\r\n      uccontinue: cont,\r\n    };\r\n    const item = await wikipediaQuery(\r\n      WIKIPEDIA_ENDPOINT_SEARCH,\r\n      params,\r\n      NUMBER_OF_RETRIES\r\n    ).then(result =>\r\n      userContributionsSeperator(result.query.usercontribs, result)\r\n    );\r\n    userSearchCache.addCache(cont, item);\r\n    return item;\r\n  }\r\n};\r\n\r\n/*\r\n  pageRevisionsSearch: gets a json list of the last 20 page edits, along with a key to get to the next 20\r\n  '' - String\r\n  # - number\r\n  Json format:\r\n  {\r\n    revid: #,\r\n    parentid: #,\r\n    user: '',\r\n    anon: '',\r\n    timestamp: 'YYYY-MM-DDTHH:MM:SSZ',\r\n    comment: ''\r\n  }\r\n  @params {searchItem} - page query\r\n  @returns {Promise, Promise} - first element contains a promise of a json list of page edits\r\n                                second element contains a key to get the next 20 page edits, -1 if end of list\r\n*/\r\nexport const pageRevisionsSearch = async searchitem => {\r\n  let item = await getWikibaseItem(searchitem);\r\n  if (item === -1) {\r\n    return -1;\r\n  }\r\n  item = await getRevisionsOfPage(item);\r\n  return item;\r\n};\r\n\r\n/*\r\n  pageRevisionsSearchCont: gets a json list of the last 20 page edits, along with a key to get to the next 20\r\n  '' - String\r\n  # - number\r\n  Json format:\r\n  {\r\n    revid: #,\r\n    parentid: #,\r\n    user: '',\r\n    anon: '',\r\n    timestamp: 'YYYY-MM-DDTHH:MM:SSZ',\r\n    comment: ''\r\n  }\r\n  @params {searchItem, cont} - page query\r\n                               continue key\r\n  @returns {Promise, Promise} - first element contains a promise of a json list of page edits\r\n                                second element contains a key to get the next 20 page edits, -1 if end of list\r\n*/\r\nexport const pageRevisionsSearchCont = async (searchitem, cont) => {\r\n  let item = await getWikibaseItem(searchitem);\r\n  if (item === -1) {\r\n    return -1;\r\n  }\r\n  item = await getRevisionsOfPageCont(item, cont);\r\n  return item;\r\n};\r\n\r\n// ~ Helper Functions ---------------------------------------------------------\r\n\r\n/**\r\n * Returns a the response of a query to the Wikidata API endpoint\r\n *\r\n * @param {Object} params - Object of parameters to use when querying\r\n * @param {number} n - Number of times to retry if failure occurs\r\n * @returns {Promise.<Object>}\r\n */\r\nconst wikipediaQuery = async (endpoint, params, n) => {\r\n  try {\r\n    const paramsString = new URLSearchParams(params).toString();\r\n    const url = endpoint + '?' + paramsString + '&origin=*';\r\n    return await fetch(url).then(response => response.json());\r\n  } catch (err) {\r\n    if (n === 1) {\r\n      throw err;\r\n    }\r\n    return setTimeout(wikipediaQuery(endpoint, params, n - 1), 500);\r\n  }\r\n};\r\n\r\n//Helper function to return wikibase_item necessary\r\n//@param {json} - json straight from query\r\n//@returns {promise} returns -1 if it fails to find it and otherwise returns wikibase_item\r\nconst extraResult = async json1 => {\r\n  let temp = -1;\r\n  while (typeof json1[temp] === 'undefined') {\r\n    temp = temp + 1;\r\n  }\r\n  if (json1[temp].hasOwnProperty('pageprops')) {\r\n    return json1[temp].pageprops.wikibase_item;\r\n  }\r\n  return -1;\r\n};\r\n\r\n//Helper function to return revisions\r\n//@param {json} - json straight from query\r\n//@returns {promise} returns -1 if it fails to find it and otherwise returns revisions\r\nconst getRevisions = async json1 => {\r\n  let temp = 0;\r\n  while (typeof json1[temp] === 'undefined') {\r\n    temp = temp + 1;\r\n  }\r\n  if (json1[temp].hasOwnProperty('revisions')) {\r\n    return json1[temp].revisions;\r\n  }\r\n  return -1;\r\n};\r\n\r\n//Helper function to return revisions\r\n//@param {json} - json straight from query\r\n//@returns {promise} returns -1 if it fails to find it and otherwise returns revisions\r\nconst userContributionsSeperator = async (usercontribs, result) => {\r\n  if (result.hasOwnProperty('continue')) {\r\n    return [usercontribs, result['continue'].uccontinue];\r\n  } else {\r\n    return [usercontribs, -1];\r\n  }\r\n};\r\n\r\n//Grabs wikibase_id from a search\r\n//@param {string} searchItem - Item to search Qid for\r\n//@returns {Object} -1 or QID\r\nconst getWikibaseItem = async searchItem => {\r\n  const cacheResult = wikibaseCache.getCache(searchItem);\r\n  if (cacheResult != -1) {\r\n    return cacheResult;\r\n  } else {\r\n    const params = {\r\n      action: 'query',\r\n      format: 'json',\r\n      prop: 'pageprops',\r\n      titles: searchItem,\r\n    };\r\n    const result = await wikipediaQuery(\r\n      WIKIPEDIA_ENDPOINT_SEARCH,\r\n      params,\r\n      NUMBER_OF_RETRIES\r\n    ).then(result => extraResult(result.query.pages));\r\n    wikibaseCache.addCache(searchItem, result);\r\n    return result;\r\n  }\r\n};\r\n//Grabs revisions from qid, past 20 revisions only due to limitations from api\r\n// @param {string} qid - id to search revisions for\r\n// @returns {Object} -1 or revisions in json\r\nconst getRevisionsOfPage = async qid => {\r\n  const cacheResult = pageRevCache.getCache(qid);\r\n  if (cacheResult != -1) {\r\n    return cacheResult;\r\n  } else {\r\n    const params = {\r\n      action: 'query',\r\n      format: 'json',\r\n      prop: 'revisions',\r\n      titles: qid,\r\n      rvprops: 'ids|timestamp|flags|comment|user',\r\n      rvlimit: 20,\r\n    };\r\n    const item = await wikipediaQuery(\r\n      WIKIDATA_ENDPOINT,\r\n      params,\r\n      NUMBER_OF_RETRIES\r\n    ).then(result => getRevisionsHelper(result.query.pages, result));\r\n    pageRevCache.addCache(qid, item);\r\n    return item;\r\n  }\r\n};\r\n\r\n//Grabs revisions from qid, past 20 revisions only due to limitations from api\r\n// @param {string} qid - id to search revisions for\r\n// @param {string} cont - key to get next results\r\n// @returns {Object} -1 or revisions in json\r\nconst getRevisionsOfPageCont = async (qid, cont) => {\r\n  const cacheResult = pageRevCache.getCache(cont);\r\n  if (cacheResult != -1) {\r\n    return cacheResult;\r\n  } else {\r\n    const params = {\r\n      action: 'query',\r\n      format: 'json',\r\n      prop: 'revisions',\r\n      titles: qid,\r\n      rvprops: 'ids|timestamp|flags|comment|user',\r\n      rvlimit: 20,\r\n      rvcontinue: cont,\r\n    };\r\n    const item = await wikipediaQuery(\r\n      WIKIDATA_ENDPOINT,\r\n      params,\r\n      NUMBER_OF_RETRIES\r\n    ).then(result => getRevisionsHelper(result.query.pages, result));\r\n    pageRevCache.addCache(cont, item);\r\n    return item;\r\n  }\r\n};\r\n\r\nconst getRevisionsHelper = async (pages, result) => {\r\n  if (result.hasOwnProperty('continue')) {\r\n    return [getRevisions(pages), result['continue'].rvcontinue];\r\n  } else {\r\n    return [getRevisions(pages), -1];\r\n  }\r\n};\r\n\r\n/*\r\n  getPrefixSearch: gets a prefix search of 10 items from an input string\r\n  '' - String\r\n  # - number\r\n  Json nested inside query.prefixsearch\r\n  Json format:\r\n  {\r\n    ns: #,\r\n    title: '',\r\n    pageid: #\r\n  }\r\n  @params {searchItem} - prefix search item\r\n  @returns {Promise} - promise of 10 prefix search results\r\n*/\r\nexport const getPrefixSearch = async searchItem => {\r\n  const cacheResult = prefixCache.getCache(searchItem);\r\n  if (cacheResult != -1) {\r\n    return cacheResult;\r\n  } else {\r\n    const params = {\r\n      action: 'query',\r\n      format: 'json',\r\n      list: 'prefixsearch',\r\n      pssearch: searchItem,\r\n    };\r\n    const item = await wikipediaQuery(\r\n      WIKIPEDIA_ENDPOINT_SEARCH,\r\n      params,\r\n      NUMBER_OF_RETRIES\r\n    ).then(result => {\r\n      return result;\r\n    });\r\n    prefixCache.addCache(searchItem, item);\r\n    return item;\r\n  }\r\n};\r\n\r\n/*\r\n  getPageDescription: gets a short and long description of page\r\n  @params {searchItem} - page search item\r\n  @returns {Promise, Promise} - first item contains a short description of the page\r\n                                second item contains a long description of the page\r\n*/\r\n\r\nexport const getPageDescription = async searchItem => {\r\n  const item = await wikipediaQuery(\r\n    DESCRIPTION_REST_API + searchItem,\r\n    NUMBER_OF_RETRIES\r\n  ).then(result => [result.description, result.extract]);\r\n  console.log(item);\r\n  return item;\r\n};\r\n\r\n/*\r\n  httpGet - helper function, similar to wikipediaQuery for getHyperlinkedDescription function\r\n  @params {endpoint, params, n} - api endpoint link\r\n                                  api parameters\r\n                                  number of retries\r\n  @returns {response} - html hypertext linked string\r\n*/\r\nconst httpGet = async (endpoint, params, n) => {\r\n  try {\r\n    const paramsString = new URLSearchParams(params).toString();\r\n    const url = endpoint + '?' + paramsString + '&origin=*';\r\n    const xmlHttp = new XMLHttpRequest();\r\n    xmlHttp.open('GET', url, false);\r\n    xmlHttp.send(null);\r\n    return xmlHttp.responseText;\r\n  } catch (err) {\r\n    if (n === 1) {\r\n      throw err;\r\n    }\r\n    return setTimeout(httpGet(endpoint, params, n - 1), 500);\r\n  }\r\n};\r\n\r\n/*\r\n  getHyperlinkedDescription: using dbpedia spotlight, an input text is converted into a hyperlinked html text document\r\n  @params {text} - input text string to be converted\r\n  @returns {Promise} - output html file of the hyperlinked text\r\n*/\r\nexport const getHyperlinkedDescription = async text => {\r\n  const params = {\r\n    text: text,\r\n  };\r\n  const item = await httpGet(DBPEDIA_SPOTLIGHT_API, params, 1).then(\r\n    response => response\r\n  );\r\n  return item;\r\n};\r\n\r\n// test\r\n//Tahmid02016\r\n// const item = userSearch('Tahmid02016').then(str => {\r\n//   if (str[0]) {\r\n//     console.log(str[0]);\r\n//   }\r\n// });\r\n\r\n// let key = 0;\r\n// let i = 0;\r\n// const value = 'Albert Einstein';\r\n// const inter = setInterval(function() {\r\n//   if (i == 0) {\r\n//     const item = pageRevisionsSearch(value).then(str => {\r\n//       str[0].then(list => {\r\n//         console.log('first-call: ' + i);\r\n//         // console.log(list);\r\n//         i = i + 1;\r\n//       });\r\n//       console.log('Key ' + str[1]);\r\n//       key = str[1];\r\n//     });\r\n//   } else if (i > 0 && key != -1) {\r\n//     const item = pageRevisionsSearchCont(value, key).then(str => {\r\n//       str[0].then(list => {\r\n//         console.log('calls: ' + i);\r\n//         // console.log(list);\r\n//       });\r\n//       console.log('Key ' + str[1]);\r\n//       key = str[1];\r\n//     });\r\n//   } else if (key == -1) {\r\n//     console.log('FINISHED');\r\n//     clearInterval(inter);\r\n//   }\r\n// }, 2000);\r\n","import React, { Component } from 'react';\r\nimport GraphPage from './GraphPage';\r\nimport PieChartRefresh from '../Components/PieChartRefresh';\r\nimport {\r\n  pageRevisionsSearch,\r\n  pageRevisionsSearchCont,\r\n} from '../Backend/searchingFunctionality';\r\nimport { getRecentActiveUsers } from '../Backend/APIWrapper';\r\n\r\nexport const NumberOfChangesSettings = {\r\n  getData: async function(searchValue) {\r\n    if (searchValue) {\r\n      const data = await pageRevisionsSearch(searchValue).then(str => {\r\n        str[0].then(value => {\r\n          this.setState({ values: value });\r\n        });\r\n        this.setState({ keyValue: str[1] });\r\n      });\r\n      const myMap = new Map();\r\n      this.state.values.forEach(item => {\r\n        if (!myMap.has(item.user)) {\r\n          myMap.set(item.user, item);\r\n        }\r\n      });\r\n      for (const item of myMap.values()) {\r\n        item.id = item.revid;\r\n        item.label = item.user;\r\n        item.value = this.state.values.reduce(function(s, o) {\r\n          if (o.user === item.user) {\r\n            s++;\r\n          }\r\n          return s;\r\n        }, 0);\r\n      }\r\n      const array = [myMap.size];\r\n      let j = 0;\r\n      for (const item of myMap.values()) {\r\n        array[j++] = item;\r\n      }\r\n      this.setState({ singleArray: array });\r\n      return array;\r\n    }\r\n  },\r\n  refreshTime: 2000,\r\n  refreshMethod: async function(searchValue) {\r\n    if (this.state.keyValue != -1) {\r\n      const data = await pageRevisionsSearchCont(\r\n        searchValue,\r\n        this.state.keyValue\r\n      ).then(str => {\r\n        str[0].then(value => {\r\n          this.setState({ values: this.state.values.concat(value) });\r\n        });\r\n        this.setState({ keyValue: str[1] });\r\n      });\r\n      const myMap = new Map();\r\n      this.state.values.forEach(item => {\r\n        if (!myMap.has(item.user)) {\r\n          myMap.set(item.user, item);\r\n        }\r\n      });\r\n      for (const item of myMap.values()) {\r\n        item.id = item.revid;\r\n        item.label = item.user;\r\n        item.value = this.state.values.reduce(function(s, o) {\r\n          if (o.user === item.user) {\r\n            s++;\r\n          }\r\n          return s;\r\n        }, 0);\r\n      }\r\n      const array = [myMap.size];\r\n      let j = 0;\r\n      for (const item of myMap.values()) {\r\n        array[j++] = item;\r\n      }\r\n      this.setState({ singleArray: array });\r\n      return array;\r\n    }\r\n    return -1;\r\n  },\r\n  colorBy: 'type',\r\n  colors: 'set2',\r\n  onClick: function(click) {\r\n    window.open('https://www.wikidata.org/wiki/User:' + click.label);\r\n  },\r\n  tooltip: function(click) {\r\n    return this.tooltip(click, 'https://www.wikidata.org/wiki/User:');\r\n  },\r\n};\r\n\r\nclass NumberOfChanges extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      paused: false,\r\n      value: this.props.value,\r\n      key: '',\r\n      recentChanges: [],\r\n      loading: true,\r\n      fullGraph: this.props.fullGraph,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.state.fullGraph == false) {\r\n      this.props.onRef(this);\r\n    }\r\n  }\r\n\r\n  onclick(search) {\r\n    this.setState({ value: search });\r\n  }\r\n\r\n  handlePause = () => {\r\n    const paused = this.state.paused;\r\n    this.setState({ paused: !paused });\r\n  };\r\n\r\n  render() {\r\n    if (this.props.fullGraph) {\r\n      return (\r\n        <GraphPage\r\n          handlePause={this.handlePause}\r\n          paused={this.state.paused}\r\n          explanation={\r\n            <div>\r\n              {'The number of changes made by different users on this page.' +\r\n                ' Hover over a section to get a preview of the page, or click to open the page in a new tab.'}\r\n              <p>\r\n                <img\r\n                  className=\"legend\"\r\n                  src={require('../legend.svg')}\r\n                  alt=\"Legend\"\r\n                />\r\n              </p>\r\n            </div>\r\n          }\r\n          graph={\r\n            <PieChartRefresh\r\n              fullGraph={this.props.fullGraph}\r\n              settings={NumberOfChangesSettings}\r\n              paused={this.state.paused}\r\n              recentChanges={this.state.recentChanges}\r\n              value={this.state.value}\r\n              loading={this.state.loading}\r\n            />\r\n          }\r\n          name=\"Number of Changes\"\r\n        />\r\n      );\r\n    } else {\r\n      if (this.state.value === '') {\r\n        return (\r\n          <div>\r\n            <p>Search For a Graph</p>\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <PieChartRefresh\r\n          fullGraph={this.props.fullGraph}\r\n          settings={NumberOfChangesSettings}\r\n          paused={this.state.paused}\r\n          recentChanges={this.state.recentChanges}\r\n          value={this.state.value}\r\n          loading={this.state.loading}\r\n        />\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default NumberOfChanges;\r\n","import React, { Component } from 'react';\r\nimport Navbar from '../Components/Navbar';\r\nimport GraphCard from '../Components/GraphCard';\r\nimport FeedData from '../Components/Feed';\r\nimport CardDeck from 'react-bootstrap/CardDeck';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport SimpleBarGraph from '../Components/SimpleBarGraph';\r\nimport PieChart from '../Components/PieChart';\r\nimport { MostActiveUsersGraphSettings } from './MostActiveUsers';\r\nimport { MostActivePagesGraphSettings } from './MostActivePages';\r\nimport { LargestRecentEditsSettings } from './LargestRecentEdits';\r\nimport { RecentEditSizeSettings } from './RecentEditSize';\r\nimport { ProportionFlaggedSettings } from './ProportionFlagged';\r\n\r\nimport { NumberOfChangesSettings } from './NumberOfChanges';\r\n\r\n//This is the dashboard page, it shows the feed and all of our graphs\r\n\r\nclass HomePage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      history: this.props.history,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"HomePage\">\r\n        <Navbar />\r\n        <div className=\"row justify-content-left text-dark\">\r\n          <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-4\">\r\n            <div className=\"feedContainer\">\r\n              <FeedData />\r\n            </div>\r\n            <div>\r\n              <button\r\n                className=\"feed-button button-position\"\r\n                onClick={e => {\r\n                  this.props.history.push('/user-search');\r\n                }}\r\n              >\r\n                User Search\r\n              </button>\r\n              <button\r\n                className=\"feed-button button-position\"\r\n                onClick={e => {\r\n                  this.props.history.push('/page-revisions');\r\n                }}\r\n              >\r\n                Page Search\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-8\">\r\n            <div className=\"deck-container\">\r\n              <CardDeck className=\"deck\">\r\n                <GraphCard\r\n                  title=\"Recent Edit Size\"\r\n                  pageLink=\"recent-edit-size\"\r\n                  history={this.state.history}\r\n                  graph={\r\n                    <PieChart\r\n                      paused={true}\r\n                      fullGraph={false}\r\n                      settings={RecentEditSizeSettings}\r\n                    />\r\n                  }\r\n                />\r\n                <GraphCard\r\n                  title=\"Most Active Users\"\r\n                  pageLink=\"most-active-users\"\r\n                  history={this.state.history}\r\n                  graph={\r\n                    <SimpleBarGraph\r\n                      paused={false}\r\n                      fullGraph={false}\r\n                      settings={MostActiveUsersGraphSettings}\r\n                    />\r\n                  }\r\n                />\r\n              </CardDeck>\r\n              <CardDeck className=\"deck\">\r\n                <GraphCard\r\n                  title=\"Most Active Pages\"\r\n                  pageLink=\"most-active-pages\"\r\n                  history={this.state.history}\r\n                  graph={\r\n                    <SimpleBarGraph\r\n                      paused={false}\r\n                      fullGraph={false}\r\n                      settings={MostActivePagesGraphSettings}\r\n                    />\r\n                  }\r\n                />\r\n              </CardDeck>\r\n\r\n              <CardDeck className=\"deck\">\r\n                <GraphCard\r\n                  title=\"Largest Recent Edits\"\r\n                  pageLink=\"largest-recent-edits\"\r\n                  history={this.state.history}\r\n                  graph={\r\n                    <PieChart\r\n                      paused={true}\r\n                      fullGraph={false}\r\n                      settings={LargestRecentEditsSettings}\r\n                    />\r\n                  }\r\n                />\r\n                <GraphCard\r\n                  title={ProportionFlaggedSettings.name}\r\n                  pageLink=\"proportion-flagged\"\r\n                  history={this.state.history}\r\n                  graph={\r\n                    <PieChart\r\n                      paused={false}\r\n                      fullGraph={false}\r\n                      settings={ProportionFlaggedSettings}\r\n                    />\r\n                  }\r\n                />\r\n              </CardDeck>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomePage;\r\n","import React, { Component } from 'react';\r\nimport GraphPage from './GraphPage';\r\nimport SimpleBarGraph from '../Components/SimpleBarGraph';\r\nimport { getMostEditsUsers } from '../Backend/APIWrapper';\r\n\r\nexport const UsersByMostEditsGraphSettings = {\r\n  getData: async function() {\r\n    return await getMostEditsUsers();\r\n  },\r\n  refreshTime: 2000,\r\n  refreshMethod: function() {\r\n    this.loadData();\r\n  },\r\n  keys: ['editcount'],\r\n  index: 'name',\r\n  xAxis: 'users',\r\n  yAxis: 'edit count',\r\n  colors: 'paired',\r\n  tooltip: function(click) {\r\n    return this.tooltip(click, 'https://www.wikidata.org/wiki/User:');\r\n  },\r\n};\r\n\r\nclass UsersByMostEditsPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      paused: false,\r\n    };\r\n  }\r\n\r\n  handlePause = event => {\r\n    this.setState({ paused: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <GraphPage\r\n        handlePause={this.handlePause}\r\n        paused={this.state.paused}\r\n        graph={\r\n          <SimpleBarGraph\r\n            fullGraph={true}\r\n            settings={UsersByMostEditsGraphSettings}\r\n            paused={this.state.paused}\r\n          />\r\n        }\r\n        name=\"Users By Most Edits\"\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default UsersByMostEditsPage;\r\n","import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Navbar from '../Components/Navbar';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faLink } from '@fortawesome/free-solid-svg-icons';\r\nimport { faGithub } from '@fortawesome/free-brands-svg-icons';\r\n\r\nclass AboutPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      history: this.props.history,\r\n      studentList: [\r\n        {\r\n          firstName: 'Jeremie',\r\n          lastName: 'Sajeev Daniel',\r\n          year: '3rd Year ICS',\r\n          team: 'Backend Team',\r\n          github: 'https://github.com/JeremieSD',\r\n        },\r\n        {\r\n          firstName: 'Conor',\r\n          lastName: \"O'Neill\",\r\n          year: '3rd Year ICS',\r\n          team: 'Frontend Team',\r\n          github: 'https://github.com/conoro24',\r\n        },\r\n        {\r\n          firstName: 'Matteo',\r\n          lastName: 'McGuinness',\r\n          year: '2nd Year ICS',\r\n          team: 'Frontend Team',\r\n          github: 'https://github.com/m477301',\r\n        },\r\n        {\r\n          firstName: 'Emmet',\r\n          lastName: 'Morrin',\r\n          year: '2nd Year ICS',\r\n          team: 'Backend Team',\r\n          github: 'https://github.com/Unimuspanet',\r\n        },\r\n        {\r\n          firstName: 'Aoife',\r\n          lastName: 'Khan',\r\n          year: '2nd Year CSB',\r\n          team: 'Frontend Team',\r\n          github: 'https://github.com/aoife-K',\r\n        },\r\n        {\r\n          firstName: 'Xiaolei',\r\n          lastName: 'Zhang',\r\n          year: '2nd Year ICS',\r\n          team: 'Frontend Team',\r\n          github: 'https://github.com/Xiaoleiii',\r\n        },\r\n      ],\r\n      currentStudent: true,\r\n    };\r\n    this.setData = this.setData.bind(this);\r\n  }\r\n  setData = () => {\r\n    let list = [];\r\n    if (this.state.currentStudent) {\r\n      list = [\r\n        {\r\n          firstName: 'Brian',\r\n          lastName: 'Lynch',\r\n          year: '3rd Year CS',\r\n          team: 'Frontend Team',\r\n          github: 'https://github.com/brianlunch',\r\n        },\r\n        {\r\n          firstName: 'Isobel',\r\n          lastName: 'Mahon',\r\n          year: '3rd Year CS',\r\n          team: 'Frontend Team',\r\n          github: 'https://github.com/isobelm',\r\n        },\r\n        {\r\n          firstName: 'Odhran',\r\n          lastName: 'Mullen',\r\n          year: '3rd Year CSB',\r\n          team: 'Backend Team',\r\n          github: 'https://github.com/omullan',\r\n        },\r\n        {\r\n          firstName: 'Alex',\r\n          lastName: 'Mahon',\r\n          year: '2nd Year CS',\r\n          team: 'Frontend Team',\r\n          github: 'https://github.com/Juuiko',\r\n        },\r\n        {\r\n          firstName: 'Flora',\r\n          lastName: 'Molnar',\r\n          year: '2nd Year CSB',\r\n          team: 'Frontend Team',\r\n          github: 'https://github.com/flora-m',\r\n        },\r\n        {\r\n          firstName: 'Lexes',\r\n          lastName: 'Mantiquilla',\r\n          year: '2nd Year CS',\r\n          team: 'Backend Team',\r\n          github: 'https://github.com/lexesjan',\r\n        },\r\n      ];\r\n    } else {\r\n      list = [\r\n        {\r\n          firstName: 'Jeremie',\r\n          lastName: 'Sajeev Daniel',\r\n          year: '3rd Year ICS',\r\n          team: 'Backend Team',\r\n          github: 'https://github.com/JeremieSD',\r\n        },\r\n        {\r\n          firstName: 'Conor',\r\n          lastName: \"O'Neill\",\r\n          year: '3rd Year ICS',\r\n          team: 'Frontend Team',\r\n          github: 'https://github.com/conoro24',\r\n        },\r\n        {\r\n          firstName: 'Matteo',\r\n          lastName: 'McGuinness',\r\n          year: '2nd Year ICS',\r\n          team: 'Frontend Team',\r\n          github: 'https://github.com/m477301',\r\n        },\r\n        {\r\n          firstName: 'Emmet',\r\n          lastName: 'Morrin',\r\n          year: '2nd Year ICS',\r\n          team: 'Backend Team',\r\n          github: 'https://github.com/Unimuspanet',\r\n        },\r\n        {\r\n          firstName: 'Aoife',\r\n          lastName: 'Khan',\r\n          year: '2nd Year CSB',\r\n          team: 'Frontend Team',\r\n          github: 'https://github.com/aoife-K',\r\n        },\r\n        {\r\n          firstName: 'Xiaolei',\r\n          lastName: 'Zhang',\r\n          year: '2nd Year ICS',\r\n          team: 'Frontend Team',\r\n          github: 'https://github.com/Xiaoleiii',\r\n        },\r\n      ];\r\n    }\r\n    this.setState({\r\n      currentStudent: !this.state.currentStudent,\r\n      studentList: list,\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"aboutPageContainer\">\r\n        <Navbar history={this.state.history} />\r\n        <div className=\" text-left\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-6 col-sm-12  aboutPageContent\">\r\n              <div className=\"explainContainer text-left\">\r\n                <h3 className=\"text-blue\">Why we made our project</h3>\r\n                <p>\r\n                  We are a group of Computer Science students studying in\r\n                  Trinity College Dublin. We undertake a module in which we are\r\n                  given real world projects from a variety of individuals,\r\n                  researchers and businesses.\r\n                </p>\r\n                <p>\r\n                  Our clients were Fabrizio and Damien who work in the Trinity\r\n                  ADAPT research center and they tasked us to create a website\r\n                  that will visualise various changes to Wikidata in\r\n                  quasi-real-time. Its targeted users are researchers and should\r\n                  make it easier to identify spam and incorrect or malicious\r\n                  edits to Wikidata.\r\n                </p>\r\n              </div>\r\n              <br />\r\n              <div className=\" licenseContainer text-left\">\r\n                <h3 className=\"text-blue\">Licensing</h3>\r\n                <p>\r\n                  We have insured all libraries and all project dependencies\r\n                  licenses cover our web apps intended use.\r\n                </p>\r\n                <p>\r\n                  We have decided to use an{' '}\r\n                  <a href=\"https://opensource.org/licenses/MIT\">MIT license</a>{' '}\r\n                  for this project.\r\n                </p>\r\n                <p>\r\n                  More in depth information along with the projects source code\r\n                  can be found on the projects{' '}\r\n                  <a href=\"https://github.com/isobelm/Software-Engineering\">\r\n                    Github.\r\n                  </a>{' '}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-6 col-sm-12 profiles\">\r\n              <div className=\"client\">\r\n                <h3 className=\"text-red\">Clients</h3>\r\n                <div className=\"card-deck\">\r\n                  <div className=\"card card-profile\">\r\n                    <div className=\"card-body\">\r\n                      <h5 className=\"card-title text-center \">Damien Graux</h5>\r\n                      <div className=\"text-center\">\r\n                        <a\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"GH aBlack\"\r\n                          href=\"https://dgraux.github.io/\"\r\n                        >\r\n                          <FontAwesomeIcon icon={faLink} />\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"card card-profile\">\r\n                    <div className=\"card-body\">\r\n                      <h5 className=\"card-title text-center\">\r\n                        Fabrizio Orlandi\r\n                      </h5>\r\n                      <div className=\"text-center\">\r\n                        <a\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"GH aBlack\"\r\n                          href=\"https://www.scss.tcd.ie/personnel/orlandif\"\r\n                        >\r\n                          <FontAwesomeIcon icon={faLink} />\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <br />\r\n              <div className=\"text-title\">\r\n                <h3 className=\"text-red\">Students</h3>\r\n                <button\r\n                  className=\"text-button text-title-button\"\r\n                  onClick={this.setData}\r\n                >\r\n                  {this.state.currentStudent\r\n                    ? 'see previous team'\r\n                    : 'see present team'}\r\n                </button>\r\n              </div>\r\n              <div className=\"card-deck  text-center\">\r\n                {this.state.studentList.slice(0, 3).map(function(item, key) {\r\n                  return (\r\n                    <div className=\"card card-profile\" key={key}>\r\n                      <div className=\"card-body\">\r\n                        <h5 className=\"card-title text-center\">\r\n                          {item.firstName}\r\n                          <br /> {item.lastName}\r\n                        </h5>\r\n                        <p className=\"card-text\">\r\n                          <b>{item.year}</b>\r\n                          <br />\r\n                          {item.team}\r\n                        </p>\r\n                        <div className=\"text-center\">\r\n                          <a\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className=\"GH aBlack\"\r\n                            href={item.github}\r\n                          >\r\n                            <FontAwesomeIcon icon={faGithub} />\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n              <div className=\"card-deck  text-center\">\r\n                {this.state.studentList.slice(3, 6).map(function(item, key) {\r\n                  return (\r\n                    <div className=\"card card-profile\" key={key}>\r\n                      <div className=\"card-body\">\r\n                        <h5 className=\"card-title text-center\">\r\n                          {item.firstName}\r\n                          <br /> {item.lastName}\r\n                        </h5>\r\n                        <p className=\"card-text\">\r\n                          <b>{item.year}</b>\r\n                          <br />\r\n                          {item.team}\r\n                        </p>\r\n                        <div className=\"text-center\">\r\n                          <a\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className=\"GH aBlack\"\r\n                            href={item.github}\r\n                          >\r\n                            <FontAwesomeIcon icon={faGithub} />\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AboutPage;\r\n","import React, { useState, useEffect } from 'react';\r\nconst SearchBar = props => {\r\n  const [search, setSearch] = useState('');\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [pub, setPub] = useState(false);\r\n  // const [results, setResults] = useState(null);\r\n\r\n  const loadData = value => {\r\n    if (props.settings.type == 0) {\r\n      const getData = props.settings.getData.bind(this);\r\n      // console.log('dataToBeFetched ');\r\n      getData(value).then(data => {\r\n        // console.log('data ' + data);\r\n        // setResults(data);\r\n        parseData(data);\r\n      });\r\n    }\r\n  };\r\n\r\n  const parseData = results => {\r\n    // console.log(results);\r\n    const values = results.query.prefixsearch;\r\n    setSuggestions([]);\r\n    values.map(obj => {\r\n      const title = obj.title;\r\n      const id = obj.pageid;\r\n      const sugg = { id, title };\r\n      setSuggestions(suggestions => {\r\n        return [...suggestions, sugg];\r\n      });\r\n    });\r\n    // console.log('finish');\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (search && !pub) {\r\n      // console.log(search);\r\n      loadData(search);\r\n    } else {\r\n      setSuggestions([]);\r\n      setPub(false);\r\n    }\r\n  }, [search]);\r\n\r\n  return (\r\n    <form autoComplete=\"off\" onSubmit={handleSubmit} style={{ height: '100%' }}>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'row',\r\n        }}\r\n      >\r\n        <div\r\n          className=\"autoComplete\"\r\n          style={{\r\n            position: 'relative',\r\n            margin: '2rem',\r\n          }}\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            id=\"input\"\r\n            name=\"input\"\r\n            value={search}\r\n            onChange={e => setSearch(e.target.value)}\r\n            style={{\r\n              backgroundColor: '#f1f1f1',\r\n              marginRight: '2rem',\r\n              width: '15rem',\r\n              borderStyle: 'solid',\r\n              borderColor: '#d4d4d4',\r\n            }}\r\n          />\r\n          <input\r\n            type=\"submit\"\r\n            onClick={() => {\r\n              props.searchValue(search);\r\n            }}\r\n            style={{}}\r\n          />\r\n\r\n          {search &&\r\n            suggestions.map(suggestion => {\r\n              const { id, title } = suggestion;\r\n              return (\r\n                <div\r\n                  key={id}\r\n                  className=\"searchListSuggestion\"\r\n                  onClick={e => {\r\n                    setPub(true);\r\n                    setSearch(title);\r\n                    handleSubmit(e);\r\n                  }}\r\n                >\r\n                  {title}\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { Component } from 'react';\r\nimport * as utils from '../Backend/searchingFunctionality';\r\n\r\nclass PageFeed extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      recentChanges: [],\r\n      paused: false,\r\n      value: '',\r\n      cont: -1,\r\n      max: true,\r\n    };\r\n    this.togglePause = this.togglePause.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.props.onRef(this);\r\n    this.refreshInterval = setInterval(\r\n      function() {\r\n        if (!this.state.paused && this.state.value && this.state.cont != -1) {\r\n          const item = utils.userSearch(this.state.value).then(str => {\r\n            if (str[0]) {\r\n              this.setState({\r\n                recentChanges: this.state.recentChanges.concat(str[0]),\r\n                cont: str[1],\r\n              });\r\n            }\r\n          });\r\n        }\r\n      }.bind(this),\r\n      1000\r\n    );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.refreshInterval);\r\n  }\r\n\r\n  onclick(search) {\r\n    if (search) {\r\n      this.setState({ value: search });\r\n      const item = utils.userSearch(search).then(str => {\r\n        if (str[0]) {\r\n          this.setState({ recentChanges: str[0], cont: str[1] });\r\n        }\r\n      });\r\n    }\r\n  }\r\n  togglePause() {\r\n    this.state.paused = !this.state.paused;\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3 className=\"text-blue text-left\">User Search</h3>\r\n        <form className=\"text-left\" onChange={this.togglePause}>\r\n          <label>\r\n            <input type=\"checkbox\" /> Paused\r\n          </label>\r\n        </form>\r\n        <ul className=\"search-list-page-group\">\r\n          {this.state.recentChanges.map((item, index) => (\r\n            <li className=\"list-group-item text-left\" key={index}>\r\n              <div>\r\n                {`Title: ${item.title}`}\r\n                <br />\r\n                {`Comment: ${item.comment}`}\r\n                <br />\r\n                {`Time: ${item.timestamp}`}\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PageFeed;\r\n","import Card from 'react-bootstrap/Card';\r\nimport React, { Component } from 'react';\r\nclass GraphCardSearch extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      title: this.props.title,\r\n      pageLink: this.props.pageLink,\r\n      graph: this.props.graph,\r\n      value: this.props.value,\r\n    };\r\n  }\r\n\r\n  onClick = () => {\r\n    this.state.history.push(this.state.pageLink + ':' + this.props.value);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Card onClick={this.onClick} tag=\"a\" className=\"graph-card\">\r\n        <Card.Body>\r\n          <Card.Title className=\"card-title\">{this.state.title}</Card.Title>\r\n          {this.state.graph}\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GraphCardSearch;\r\n","import React, { Component } from 'react';\r\nimport GraphPage from './GraphPage';\r\nimport PieChartRefresh from '../Components/PieChartRefresh';\r\nimport { userSearch, userSearchCont } from '../Backend/searchingFunctionality';\r\nimport { getRecentActiveUsers } from '../Backend/APIWrapper';\r\n\r\nexport const NumberOfChangesUserSettings = {\r\n  getData: async function(searchValue) {\r\n    if (searchValue) {\r\n      const data = await userSearch(searchValue).then(str => {\r\n        if (str[0]) {\r\n          this.setState({ values: str[0] });\r\n          this.setState({ keyValue: str[1] });\r\n        }\r\n      });\r\n      if (this.state.keyValue != -1) {\r\n        let myMap = new Map();\r\n        this.state.values.forEach(item => {\r\n          if (!myMap.has(item.title)) {\r\n            myMap.set(item.title, item);\r\n          }\r\n        });\r\n        for (let item of myMap.values()) {\r\n          item.id = item.revid;\r\n          item.label = item.title;\r\n          item.value = this.state.values.reduce(function(s, o) {\r\n            if (o.title === item.title) {\r\n              s++;\r\n            }\r\n            return s;\r\n          }, 0);\r\n        }\r\n        let array = [myMap.size];\r\n        let j = 0;\r\n        for (let item of myMap.values()) {\r\n          array[j++] = item;\r\n        }\r\n        this.setState({ singleArray: array });\r\n        return array;\r\n      }\r\n      return -1;\r\n    }\r\n  },\r\n  refreshTime: 2000,\r\n  refreshMethod: async function(searchValue) {\r\n    if (this.state.keyValue != -1) {\r\n      const data = await userSearchCont(searchValue, this.state.keyValue).then(\r\n        str => {\r\n          if (str[0]) {\r\n            this.setState({ values: this.state.values.concat(str[0]) });\r\n            this.setState({ keyValue: str[1] });\r\n          }\r\n        }\r\n      );\r\n      const myMap = new Map();\r\n      this.state.values.forEach(item => {\r\n        if (!myMap.has(item.title)) {\r\n          myMap.set(item.title, item);\r\n        }\r\n      });\r\n      for (const item of myMap.values()) {\r\n        item.id = item.revid;\r\n        item.label = item.title;\r\n        item.value = this.state.values.reduce(function(s, o) {\r\n          if (o.title === item.title) {\r\n            s++;\r\n          }\r\n          return s;\r\n        }, 0);\r\n      }\r\n      const array = [myMap.size];\r\n      let j = 0;\r\n      for (const item of myMap.values()) {\r\n        array[j++] = item;\r\n      }\r\n      this.setState({ singleArray: array });\r\n      return array;\r\n    }\r\n    return -1;\r\n  },\r\n  colorBy: 'type',\r\n  colors: 'set2',\r\n  onClick: function(click) {\r\n    window.open('https://www.wikidata.org/wiki/' + click.label, '_blank');\r\n  },\r\n  tooltip: function(click) {\r\n    return this.tooltip(click, 'https://www.wikidata.org/wiki/');\r\n  },\r\n};\r\n\r\nclass NumberOfChanges extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      paused: false,\r\n      value: this.props.value,\r\n      key: '',\r\n      recentChanges: [],\r\n      loading: false,\r\n      fullGraph: this.props.fullGraph,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.state.fullGraph == false) {\r\n      this.props.onRef(this);\r\n    } else if (this.state.value) {\r\n      this.setState({ loading: true });\r\n    }\r\n  }\r\n\r\n  onclick(search) {\r\n    this.setState({ value: search });\r\n    if (search) {\r\n      this.setState({ loading: true });\r\n    } else {\r\n      this.setState({ loading: false });\r\n    }\r\n  }\r\n\r\n  // handlePause = () => {\r\n  //   const paused = this.state.paused;\r\n  //   this.setState({ paused: !paused });\r\n  // };\r\n\r\n  render() {\r\n    if (this.state.fullGraph) {\r\n      return (\r\n        <GraphPage\r\n          handlePause={this.handlePause}\r\n          paused={this.state.paused}\r\n          explanation={\r\n            <div>\r\n              {'The number of changes made by this user on different pages.' +\r\n                ' Hover over a section to get a preview of the page, or click to open the page in a new tab.'}\r\n              <p>\r\n                <img\r\n                  className=\"legend\"\r\n                  src={require('../legend.svg')}\r\n                  alt=\"Legend\"\r\n                />\r\n              </p>\r\n            </div>\r\n          }\r\n          graph={\r\n            <PieChartRefresh\r\n              fullGraph={this.state.fullGraph}\r\n              settings={NumberOfChangesUserSettings}\r\n              paused={this.state.paused}\r\n              recentChanges={this.state.recentChanges}\r\n              value={this.state.value}\r\n              loading={this.state.loading}\r\n            />\r\n          }\r\n          name={'Number of Changes by ' + this.state.value}\r\n        />\r\n      );\r\n    } else {\r\n      if (this.state.value === '') {\r\n        return (\r\n          <div>\r\n            <p>Search For a Graph</p>\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <PieChartRefresh\r\n          fullGraph={this.state.fullGraph}\r\n          settings={NumberOfChangesUserSettings}\r\n          paused={this.state.paused}\r\n          recentChanges={this.state.recentChanges}\r\n          value={this.state.value}\r\n          loading={this.state.loading}\r\n        />\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default NumberOfChanges;\r\n","import { ResponsiveCalendar } from '@nivo/calendar';\r\nimport React, { Component } from 'react';\r\n\r\nclass CalendarGraph extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loaded: false,\r\n      data: null,\r\n      fullGraph: this.props.fullGraph,\r\n      value: this.props.value,\r\n      initialCall: true,\r\n      dataFinished: false,\r\n      changeValue: '',\r\n    };\r\n\r\n    // if (this.state.value) {\r\n    //   this.loadData();\r\n    // }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshInterval = setInterval(async () => {\r\n      if (!this.props.loading) {\r\n        this.setState({\r\n          loaded: false,\r\n          initialCall: true,\r\n          dataFinished: false,\r\n        });\r\n      }\r\n      // this.setState({ value: this.props.value });\r\n      if (this.state.changeValue != this.props.value) {\r\n        this.setState({\r\n          changeValue: this.props.value,\r\n          value: this.props.value,\r\n          dataFinished: false,\r\n          initialCall: true,\r\n        });\r\n      }\r\n      if (\r\n        this.state.initialCall &&\r\n        this.state.value &&\r\n        !this.state.dataFinished &&\r\n        this.props.loading\r\n      ) {\r\n        this.setState({ changeValue: this.state.value });\r\n        await this.refresh();\r\n      } else if (\r\n        !this.state.initialCall &&\r\n        this.state.value &&\r\n        !this.state.dataFinished &&\r\n        this.props.loading\r\n      ) {\r\n        await this.refreshCont();\r\n      }\r\n    }, this.props.settings.refreshTime);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.refreshInterval);\r\n  }\r\n\r\n  refresh = async () => {\r\n    this.setState({ initialCall: false });\r\n    this.loadData();\r\n  };\r\n\r\n  refreshCont = async () => {\r\n    this.loadDataCont();\r\n  };\r\n\r\n  tooltip = function(click, url) {\r\n    return (\r\n      <div className=\"iframe-container\">\r\n        <iframe\r\n          src={url + click.indexValue}\r\n          className=\"iframe\"\r\n          title=\"tooltip-option-2\"\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  loadData = () => {\r\n    const getData = this.props.settings.getData.bind(this);\r\n    getData(this.props.value).then(data => {\r\n      const smlData = data;\r\n      this.setState({\r\n        loaded: true,\r\n        data: smlData,\r\n      });\r\n    });\r\n  };\r\n\r\n  loadDataCont = () => {\r\n    const getData = this.props.settings.refreshMethod.bind(this);\r\n    getData(this.props.value).then(data => {\r\n      if (data != -1) {\r\n        const smlData = data;\r\n        this.setState({\r\n          loaded: true,\r\n          data: smlData,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          dataFinished: true,\r\n          // value: '',\r\n          initialCall: true,\r\n          // loaded: false,\r\n          // data: null,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  render = () => {\r\n    let margin = {};\r\n    let classname = '';\r\n    if (this.state.fullGraph) {\r\n      margin = { top: 5, right: 60, bottom: 80, left: 80 };\r\n      classname = 'full-graph-container';\r\n      if (this.props.settings.onClick) {\r\n      }\r\n    } else {\r\n      margin = { top: 0, right: 0, bottom: 0, left: 0 };\r\n      classname = 'Graph-Container-Card';\r\n    }\r\n    return (\r\n      <div className={classname}>\r\n        {this.state.loaded === false ? (\r\n          'Loading...'\r\n        ) : (\r\n          <ResponsiveCalendar\r\n            data={this.state.data}\r\n            from=\"2020-01-01\"\r\n            to=\"2021-07-12\"\r\n            emptyColor=\"#eeeeee\"\r\n            colors={['#61cdbb', '#97e3d5', '#e8c1a0', '#f47560']}\r\n            margin={{ top: 40, right: 40, bottom: 40, left: 40 }}\r\n            yearSpacing={40}\r\n            monthBorderColor=\"#ffffff\"\r\n            dayBorderWidth={2}\r\n            dayBorderColor=\"#ffffff\"\r\n            legends={[\r\n              {\r\n                anchor: 'bottom-right',\r\n                direction: 'row',\r\n                translateY: 36,\r\n                itemCount: 4,\r\n                itemWidth: 42,\r\n                itemHeight: 36,\r\n                itemsSpacing: 14,\r\n                itemDirection: 'right-to-left',\r\n              },\r\n            ]}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nexport default CalendarGraph;\r\n","import React, { Component } from 'react';\r\nimport GraphPage from './GraphPage';\r\nimport CalendarGraph from '../Components/CalendarGraph';\r\nimport { userSearch, userSearchCont } from '../Backend/searchingFunctionality';\r\n\r\nexport const UserContributionsOverTimeSettings = {\r\n  getData: async function(searchValue) {\r\n    const data = await userSearch(searchValue).then(str => {\r\n      if (str[0]) {\r\n        this.setState({ values: str[0] });\r\n        this.setState({ nextVals: str[0] });\r\n        this.setState({ keyValue: str[1] });\r\n      }\r\n    });\r\n    const myMap = new Map();\r\n    this.state.values.forEach(item => {\r\n      if (\r\n        !myMap.has(item.timestamp.slice(0, -10)) &&\r\n        item.timestamp.slice(0, -10) > '2020-01-01' &&\r\n        item.timestamp.slice(0, -10) < '2021-07-01'\r\n      ) {\r\n        myMap.set(item.timestamp.slice(0, -10), item);\r\n      }\r\n    });\r\n    for (const item of myMap.values()) {\r\n      item.day = item.timestamp.slice(0, -10);\r\n      item.value = this.state.values.reduce(function(s, o) {\r\n        if (o.timestamp.slice(0, -10) === item.day) {\r\n          s++;\r\n        }\r\n        return s;\r\n      }, 0);\r\n    }\r\n    const array = [myMap.size];\r\n    let j = 0;\r\n    for (const item of myMap.values()) {\r\n      array[j++] = item;\r\n    }\r\n    return array;\r\n  },\r\n  refreshTime: 2000,\r\n  refreshMethod: async function(searchValue) {\r\n    if (this.state.keyValue != -1) {\r\n      const data = await userSearchCont(searchValue, this.state.keyValue).then(\r\n        str => {\r\n          if (str[0]) {\r\n            this.setState({ values: this.state.values.concat(str[0]) });\r\n          }\r\n          this.setState({ keyValue: str[1] });\r\n        }\r\n      );\r\n      const myMap = new Map();\r\n      this.state.values.forEach(item => {\r\n        if (\r\n          !myMap.has(item.timestamp.slice(0, -10)) &&\r\n          item.timestamp.slice(0, -10) > '2020-01-01' &&\r\n          item.timestamp.slice(0, -10) < '2021-07-01'\r\n        ) {\r\n          myMap.set(item.timestamp.slice(0, -10), item);\r\n        }\r\n      });\r\n      for (const item of myMap.values()) {\r\n        item.day = item.timestamp.slice(0, -10);\r\n        item.value = this.state.values.reduce(function(s, o) {\r\n          if (o.timestamp.slice(0, -10) === item.day) {\r\n            s++;\r\n          }\r\n          return s;\r\n        }, 0);\r\n      }\r\n      const array = [myMap.size];\r\n      let j = 0;\r\n      for (const item of myMap.values()) {\r\n        array[j++] = item;\r\n      }\r\n      return array;\r\n    }\r\n    return -1;\r\n  },\r\n  colorBy: 'type',\r\n  colors: 'set2',\r\n  onClick: function(click) {\r\n    window.open('https://www.wikidata.org/wiki/' + click.label, '_blank');\r\n  },\r\n  tooltip: function(click) {\r\n    return this.tooltip(click, 'https://www.wikidata.org/wiki/');\r\n  },\r\n};\r\n\r\nclass UserContributionsOverTime extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      paused: false,\r\n      value: this.props.value,\r\n      loading: false,\r\n      fullGraph: this.props.fullGraph,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.state.fullGraph == false) {\r\n      this.props.onRef(this);\r\n    } else if (this.state.value) {\r\n      this.setState({ loading: true });\r\n    }\r\n  }\r\n\r\n  handlePause = event => {\r\n    const paused = this.state.paused;\r\n    this.setState({ paused: !paused });\r\n  };\r\n\r\n  onclick(search) {\r\n    this.setState({ value: search });\r\n    if (search) {\r\n      this.setState({ loading: true });\r\n    } else {\r\n      this.setState({ loading: false });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.fullGraph) {\r\n      return (\r\n        <GraphPage\r\n          handlePause={this.handlePause}\r\n          paused={this.state.paused}\r\n          explanation={\r\n            <div>\r\n              {'Revisions over time by this user.' +\r\n                ' Hover over a section to see the number of revisions made that day.'}\r\n              <p>\r\n                <img\r\n                  className=\"legend\"\r\n                  src={require('../legend.svg')}\r\n                  alt=\"Legend\"\r\n                />\r\n              </p>\r\n            </div>\r\n          }\r\n          graph={\r\n            <CalendarGraph\r\n              fullGraph={this.state.fullGraph}\r\n              settings={UserContributionsOverTimeSettings}\r\n              paused={this.state.paused}\r\n              value={this.state.value}\r\n              loading={this.state.loading}\r\n            />\r\n          }\r\n          name=\"User Contributions Over Time\"\r\n        />\r\n      );\r\n    } else {\r\n      if (this.state.value === '') {\r\n        return (\r\n          <div>\r\n            <p>Search For a Graph</p>\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <CalendarGraph\r\n          fullGraph={this.state.fullGraph}\r\n          settings={UserContributionsOverTimeSettings}\r\n          paused={this.state.paused}\r\n          value={this.state.value}\r\n          loading={this.state.loading}\r\n        />\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default UserContributionsOverTime;\r\n","import React, { Component } from 'react';\r\nimport Navbar from '../Components/Navbar';\r\nimport SearchBar from '../Components/SearchBar';\r\nimport UserFeed from '../Components/UserFeed';\r\nimport CardDeck from 'react-bootstrap/CardDeck';\r\nimport GraphCardSearch from '../Components/GraphCardSearch';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport NumberOfChangesUser, {\r\n  NumberOfChangesSettings,\r\n} from './NumberOfChangesUser';\r\nimport * as utils from '../Backend/searchingFunctionality';\r\nimport UserContributionsOverTime, {\r\n  UserContributionsOverTimeSettings,\r\n} from './UserContributionsOverTime';\r\nimport CalendarGraph from '../Components/CalendarGraph';\r\n\r\nclass UsersSearchPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      history: this.props.history,\r\n      value: '',\r\n      ifConfirm: true,\r\n      firmsList: [],\r\n      recentChanges: [],\r\n      invalidSearch: false,\r\n      loading: false,\r\n      value: '',\r\n    };\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n\r\n  //Match column mouse click events\r\n  onClick(value) {\r\n    this.setState({ invalidSearch: false });\r\n    this.checkUser(value).then(bool => {\r\n      if (bool) {\r\n        this.feed.onclick(value);\r\n        this.overTime.onclick(value);\r\n        this.changes.onclick(value);\r\n        this.setState({ value: value });\r\n      } else {\r\n        this.setState({ invalidSearch: true });\r\n        this.feed.onclick('');\r\n        this.overTime.onclick('');\r\n        this.changes.onclick('');\r\n      }\r\n    });\r\n  }\r\n\r\n  checkUser = async searchValue => {\r\n    let data = false;\r\n    data = await utils.userSearch(searchValue).then(str => {\r\n      if (str[0]) {\r\n        if (str[1] != -1) {\r\n          return true;\r\n        }\r\n      }\r\n    });\r\n    return data;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar history={this.state.history} />\r\n        <div className=\"row justify-content-left text-dark\">\r\n          <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-4\">\r\n            <div className=\"feedContainer\">\r\n              <UserFeed\r\n                value={this.state.value}\r\n                onRef={ref => {\r\n                  this.feed = ref;\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-8\">\r\n            <div>\r\n              <SearchBar\r\n                settings={SearchSettings}\r\n                searchValue={this.onClick.bind(this)}\r\n              />\r\n              {this.state.invalidSearch && <p>This User does not exist.</p>}\r\n              <CardDeck className=\"CardDeckRev\">\r\n                <GraphCardSearch\r\n                  title=\"Number of Changes by User\"\r\n                  pageLink=\"user-number-of-changes\"\r\n                  history={this.state.history}\r\n                  graph={\r\n                    <NumberOfChangesUser\r\n                      fullGraph={false}\r\n                      history={this.state.history}\r\n                      onRef={ref => {\r\n                        this.changes = ref;\r\n                      }}\r\n                      value=\"\"\r\n                    />\r\n                  }\r\n                  value={this.state.value}\r\n                />\r\n              </CardDeck>\r\n              <CardDeck className=\"CardDeckRev\">\r\n                <GraphCardSearch\r\n                  title=\"User Contributions Over Time\"\r\n                  pageLink=\"user-contributions-over-time\"\r\n                  history={this.state.history}\r\n                  graph={\r\n                    <UserContributionsOverTime\r\n                      fullGraph={false}\r\n                      history={this.state.history}\r\n                      onRef={ref => {\r\n                        this.overTime = ref;\r\n                      }}\r\n                      value=\"\"\r\n                    />\r\n                  }\r\n                  value={this.state.value}\r\n                />\r\n              </CardDeck>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst SearchSettings = {\r\n  //   getData: async value => {\r\n  //     let data;\r\n  //     const item = await utils.getPrefixSearch(value).then(str => {\r\n  //       console.log(str);\r\n  //       data = str;\r\n  //     });\r\n  //     return \"data\";\r\n  //   },\r\n  type: 1,\r\n};\r\n\r\nexport default UsersSearchPage;\r\n","import React, { Component } from 'react';\r\nimport * as utils from '../Backend/searchingFunctionality';\r\n\r\nclass PageFeed extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      recentChanges: [],\r\n      paused: false,\r\n      value: '',\r\n    };\r\n    this.togglePause = this.togglePause.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.props.onRef(this);\r\n    this.refreshInterval = setInterval(\r\n      function() {\r\n        // console.log(\r\n        //   'timed task starts' + this.state.paused + '----' + this.state.value\r\n        // );\r\n        if (!this.state.paused && this.state.value) {\r\n          // console.log('timed task executes');\r\n          const item = utils.pageRevisionsSearch(this.state.value).then(str => {\r\n            if (str[0]) {\r\n              str[0].then(value => {\r\n                // console.log(value);\r\n                this.setState({ recentChanges: value });\r\n              });\r\n            }\r\n          });\r\n        }\r\n      }.bind(this),\r\n      1000\r\n    );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.refreshInterval);\r\n  }\r\n\r\n  onclick(search) {\r\n    this.setState({ value: search });\r\n    const item = utils.pageRevisionsSearch(search).then(str => {\r\n      if (str[0]) {\r\n        str[0].then(value => {\r\n          this.setState({ recentChanges: value });\r\n        });\r\n      }\r\n    });\r\n  }\r\n  togglePause() {\r\n    this.state.paused = !this.state.paused;\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3 className=\"text-blue text-left\">Page Revisions</h3>\r\n        <form className=\"text-left\" onChange={this.togglePause}>\r\n          <label>\r\n            <input type=\"checkbox\" /> Paused\r\n          </label>\r\n        </form>\r\n        <ul className=\"search-list-page-group\">\r\n          {this.state.recentChanges.map((item, index) => (\r\n            <li className=\"list-group-item text-left\" key={index}>\r\n              <div>\r\n                {`User: ${item.user}`}\r\n                <br />\r\n                {`Comment: ${item.comment}`}\r\n                <br />\r\n                {`Time: ${item.timestamp}`}\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PageFeed;\r\n","import React, { Component } from 'react';\r\nimport GraphPage from './GraphPage';\r\nimport CalendarGraph from '../Components/CalendarGraph';\r\nimport {\r\n  pageRevisionsSearch,\r\n  pageRevisionsSearchCont,\r\n} from '../Backend/searchingFunctionality';\r\n\r\nexport const PageRevisionsOverTimeSettings = {\r\n  getData: async function(searchValue) {\r\n    const data = await pageRevisionsSearch(searchValue).then(str => {\r\n      str[0].then(value => {\r\n        this.setState({ values: value });\r\n        this.setState({ nextVals: value });\r\n      });\r\n      this.setState({ keyValue: str[1] });\r\n    });\r\n    const myMap = new Map();\r\n    const a = 0;\r\n    this.state.values.forEach(item => {\r\n      if (\r\n        !myMap.has(item.timestamp.slice(0, -10)) &&\r\n        item.timestamp.slice(0, -10) > '2020-01-01' &&\r\n        item.timestamp.slice(0, -10) < '2021-07-01'\r\n      ) {\r\n        myMap.set(item.timestamp.slice(0, -10), item);\r\n      }\r\n    });\r\n    for (const item of myMap.values()) {\r\n      item.day = item.timestamp.slice(0, -10);\r\n      item.value = this.state.values.reduce(function(s, o) {\r\n        if (o.timestamp.slice(0, -10) === item.day) {\r\n          s++;\r\n        }\r\n        return s;\r\n      }, 0);\r\n    }\r\n    const array = [myMap.size];\r\n    let j = 0;\r\n    for (const item of myMap.values()) {\r\n      array[j++] = item;\r\n    }\r\n    return array;\r\n  },\r\n  refreshTime: 2000,\r\n  refreshMethod: async function(searchValue) {\r\n    if (this.state.keyValue != -1) {\r\n      const data = await pageRevisionsSearchCont(\r\n        searchValue,\r\n        this.state.keyValue\r\n      ).then(str => {\r\n        str[0].then(value => {\r\n          this.setState({ values: this.state.values.concat(value) });\r\n        });\r\n        this.setState({ keyValue: str[1] });\r\n      });\r\n      const myMap = new Map();\r\n      this.state.values.forEach(item => {\r\n        if (\r\n          !myMap.has(item.timestamp.slice(0, -10)) &&\r\n          item.timestamp.slice(0, -10) > '2020-01-01' &&\r\n          item.timestamp.slice(0, -10) < '2021-07-01'\r\n        ) {\r\n          myMap.set(item.timestamp.slice(0, -10), item);\r\n        }\r\n      });\r\n      for (const item of myMap.values()) {\r\n        item.day = item.timestamp.slice(0, -10);\r\n        item.value = this.state.values.reduce(function(s, o) {\r\n          if (o.timestamp.slice(0, -10) === item.day) {\r\n            s++;\r\n          }\r\n          return s;\r\n        }, 0);\r\n      }\r\n      const array = [myMap.size];\r\n      let j = 0;\r\n      for (const item of myMap.values()) {\r\n        array[j++] = item;\r\n      }\r\n      return array;\r\n    }\r\n    return -1;\r\n  },\r\n  colorBy: 'type',\r\n  colors: 'set2',\r\n  onClick: function(click) {\r\n    window.open('https://www.wikidata.org/wiki/' + click.label, '_blank');\r\n  },\r\n  tooltip: function(click) {\r\n    return this.tooltip(click, 'https://www.wikidata.org/wiki/');\r\n  },\r\n};\r\n\r\nclass PageRevisionsOverTime extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: this.props.history,\r\n      fullGraph: this.props.fullGraph,\r\n      paused: false,\r\n      value: this.props.value,\r\n      loading: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.state.fullGraph == false) {\r\n      this.props.onRef(this);\r\n    }\r\n  }\r\n\r\n  handlePause = event => {\r\n    const paused = this.state.paused;\r\n    this.setState({ paused: !paused });\r\n  };\r\n\r\n  onclick(search) {\r\n    this.setState({ value: search });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.fullGraph) {\r\n      return (\r\n        <GraphPage\r\n          handlePause={this.handlePause}\r\n          paused={this.state.paused}\r\n          explanation={\r\n            <div>\r\n              {'Revisions over time for this page.' +\r\n                ' Hover over a section to see the number of revisions made that day.'}\r\n              <p>\r\n                <img\r\n                  className=\"legend\"\r\n                  src={require('../legend.svg')}\r\n                  alt=\"Legend\"\r\n                />\r\n              </p>\r\n            </div>\r\n          }\r\n          graph={\r\n            <CalendarGraph\r\n              fullGraph={true}\r\n              settings={PageRevisionsOverTimeSettings}\r\n              paused={this.state.paused}\r\n              value={this.state.value}\r\n              loading={this.state.loading}\r\n            />\r\n          }\r\n          name=\"Page Revisions Over Time\"\r\n        />\r\n      );\r\n    } else {\r\n      if (this.state.value === '') {\r\n        return (\r\n          <div>\r\n            <p>Search For a Graph</p>\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <CalendarGraph\r\n          fullGraph={this.state.fullGraph}\r\n          settings={PageRevisionsOverTimeSettings}\r\n          paused={this.state.paused}\r\n          value={this.state.value}\r\n          loading={this.state.loading}\r\n        />\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default PageRevisionsOverTime;\r\n","import React, { Component } from 'react';\r\nimport Navbar from '../Components/Navbar';\r\nimport SearchBar from '../Components/SearchBar';\r\nimport PageFeed from '../Components/PageFeed';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport * as utils from '../Backend/searchingFunctionality';\r\nimport CardDeck from 'react-bootstrap/CardDeck';\r\nimport NumberOfChanges, { NumberOfChangesSettings } from './NumberOfChanges';\r\nimport GraphCardSearch from '../Components/GraphCardSearch';\r\nimport PageRevisionsOverTime, {\r\n  PageRevisionsOverTimeSettings,\r\n} from './PageRevisionsOverTime';\r\nimport CalendarGraph from '../Components/CalendarGraph';\r\n\r\nclass PageRevisionsPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      history: this.props.history,\r\n      value: '',\r\n      ifConfirm: true,\r\n      firmsList: [],\r\n      recentChanges: [],\r\n      value: '',\r\n    };\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n\r\n  //Match column mouse click events\r\n  onClick(value) {\r\n    this.feed.onclick(value);\r\n    this.changes.onclick(value);\r\n    this.overTime.onclick(value);\r\n    this.setState({ value: value });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar history={this.state.history} />\r\n        <div className=\"row justify-content-left text-dark\">\r\n          <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-4\">\r\n            <div className=\"feedContainer\">\r\n              <PageFeed\r\n                value={this.state.value}\r\n                onRef={ref => {\r\n                  this.feed = ref;\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-8\">\r\n            <div>\r\n              <SearchBar\r\n                settings={SearchSettings}\r\n                searchValue={this.onClick.bind(this)}\r\n              />\r\n              <CardDeck className=\"CardDeckRev\">\r\n                <GraphCardSearch\r\n                  title=\"Number of Changes\"\r\n                  pageLink=\"number-of-changes\"\r\n                  history={this.state.history}\r\n                  graph={\r\n                    <NumberOfChanges\r\n                      fullGraph={false}\r\n                      history={this.state.history}\r\n                      onRef={ref => {\r\n                        this.changes = ref;\r\n                      }}\r\n                      value=\"\"\r\n                    />\r\n                  }\r\n                  value={this.state.value}\r\n                />\r\n              </CardDeck>\r\n              <CardDeck className=\"CardDeckRev\">\r\n                <GraphCardSearch\r\n                  title=\"Page Revisions Over Time\"\r\n                  pageLink=\"page-revisions-over-time\"\r\n                  history={this.state.history}\r\n                  graph={\r\n                    <PageRevisionsOverTime\r\n                      fullGraph={false}\r\n                      history={this.state.history}\r\n                      onRef={ref => {\r\n                        this.overTime = ref;\r\n                      }}\r\n                      value=\"\"\r\n                    />\r\n                  }\r\n                  value={this.state.value}\r\n                />\r\n              </CardDeck>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const SearchSettings = {\r\n  getData: async function(val) {\r\n    return await utils.getPrefixSearch(val);\r\n  },\r\n  type: 0,\r\n};\r\n\r\nexport default PageRevisionsPage;\r\n","import React, { Component } from 'react';\r\n// import { pageRevisionsSearch } from '../Backend/searchingFunctionality';\r\nimport { getPrefixSearch } from '../Backend/searchingFunctionality';\r\nimport SearchBar from '../Components/SearchBar';\r\n\r\nexport const searchSuggestions = {\r\n  getData: async function(val) {\r\n    return await getPrefixSearch(val);\r\n  },\r\n};\r\n\r\nclass TestComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { history: this.props.history, paused: false };\r\n  }\r\n\r\n  handlePause = event => {\r\n    this.setState({ paused: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n        <SearchBar settings={searchSuggestions} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default TestComponent;\r\n","import React from 'react';\r\nimport { Route, Switch, HashRouter as Router } from 'react-router-dom';\r\nimport HomePage from './Pages/HomePage';\r\nimport history from './Utils/History';\r\nimport FeedData from './Pages/FeedData';\r\nimport TestPage from './Pages/TestPage';\r\nimport UsersByMostEditsPage from './Pages/UsersByMostEditsPage';\r\nimport MostActiveUsers from './Pages/MostActiveUsers';\r\nimport MostActivePages from './Pages/MostActivePages';\r\nimport RecentEditSize from './Pages/RecentEditSize';\r\nimport LargestRecentEdits from './Pages/LargestRecentEdits';\r\nimport ProportionFlagged from './Pages/ProportionFlagged';\r\nimport AboutPage from './Pages/AboutPage';\r\nimport UsersSearchPage from './Pages/UsersSearchPage';\r\nimport PageRevisionsPage from './Pages/PageRevisionsPage';\r\nimport TestComponent from './Pages/TestComponent';\r\nimport PageRevisionsOverTime from './Pages/PageRevisionsOverTime';\r\nimport UserContributionsOverTime from './Pages/UserContributionsOverTime';\r\nimport NumberOfChanges from './Pages/NumberOfChanges';\r\nimport NumberOfChangesUser from './Pages/NumberOfChangesUser';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router basename={process.env.PUBLIC_URL} history={history}>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={HomePage} />\r\n          <Route exact path=\"/page\" component={TestPage} />\r\n          <Route exact path=\"/testComponent\" component={TestComponent} />\r\n          <Route\r\n            exact\r\n            path=\"/users-by-most-edits\"\r\n            component={UsersByMostEditsPage}\r\n          />\r\n          <Route exact path=\"/most-active-users\" component={MostActiveUsers} />\r\n          <Route exact path=\"/recent-edit-size\" component={RecentEditSize} />\r\n          <Route\r\n            exact\r\n            path=\"/largest-recent-edits\"\r\n            component={LargestRecentEdits}\r\n          />\r\n          <Route exact path=\"/most-active-pages\" component={MostActivePages} />\r\n          <Route\r\n            exact\r\n            path=\"/proportion-flagged\"\r\n            component={ProportionFlagged}\r\n          />\r\n          <Route exact path=\"/about-page\" component={AboutPage} />\r\n          <Route exact path=\"/feed\" component={FeedData} />\r\n          <Route exact path=\"/user-search\" component={UsersSearchPage} />\r\n          <Route exact path=\"/page-revisions\" component={PageRevisionsPage} />\r\n          <Route\r\n            path=\"/number-of-changes:id\"\r\n            render={props => {\r\n              let name = props.match.url;\r\n              name = name.split(':')[1];\r\n              return <NumberOfChanges fullGraph={true} value={name} />;\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/user-number-of-changes:id\"\r\n            render={props => {\r\n              let name = props.match.url;\r\n              name = name.split(':')[1];\r\n              return <NumberOfChangesUser fullGraph={true} value={name} />;\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/page-revisions-over-time:id\"\r\n            render={props => {\r\n              let name = props.match.url;\r\n              name = name.split(':')[1];\r\n              return <PageRevisionsOverTime fullGraph={true} value={name} />;\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/user-contributions-over-time:id\"\r\n            render={props => {\r\n              let name = props.match.url;\r\n              name = name.split(':')[1];\r\n              return (\r\n                <UserContributionsOverTime fullGraph={true} value={name} />\r\n              );\r\n            }}\r\n          />\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}