(this["webpackJsonpwikidata-live-changes"]=this["webpackJsonpwikidata-live-changes"]||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/legend.0f000e53.svg"},347:function(e,t,a){},365:function(e,t,a){},499:function(e,t){},501:function(e,t){},543:function(e,t){},548:function(e,t,a){},549:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(82),i=a.n(r),c=(a(347),a(52)),o=a(31),u=a(7),l=a(8),h=a(12),p=a(13),d=a(2),f=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:" text-left",children:[Object(d.jsx)("h1",{className:"text-left  display-3",children:Object(d.jsx)("b",{children:this.props.title})}),Object(d.jsx)("h4",{children:this.props.subtitle})]})}}]),a}(s.a.Component),b=f,j=a(17),v=Object(n.createContext)();function m(e){var t=Object(n.useState)("light"),a=Object(j.a)(t,2),s=a[0],r=a[1];return Object(d.jsx)("div",{children:Object(d.jsx)(v.Provider,{value:{colorScheme:s,toggleColorScheme:function(){r("dark"===s?"light":"dark"),"dark"===s?document.body.classList.remove("dark"):document.body.classList.add("dark")}},children:e.children})})}a(65);var g=a(589),x=a(590),O=a(312),y=a.n(O),k=(a(354),function(){var e=Object(n.useContext)(v),t=e.colorScheme,a=e.toggleColorScheme;return Object(d.jsx)(y.a,{className:"dark-mode-toggle",checked:"dark"===t,onChange:function(e){return a()},icons:{checked:"\ud83c\udf19",unchecked:"\ud83d\udd06"},"aria-label":"Dark mode toggle"})});var w=function(e){var t=Object(n.useState)(e.history),a=Object(j.a)(t,2),s=(a[0],a[1],window.location.href),r=Object(n.useContext)(v),i=r.colorScheme,o=(r.setColorScheme,s.endsWith("/")?"nav-link--active":"nav-link"),u=s.endsWith("/page")?"nav-link--active":"nav-link",l=s.endsWith("/feed")?"nav-link--active":"nav-link",h=s.endsWith("/user-search")?"nav-link--active":"nav-link",p=s.endsWith("/page-revisions")?"nav-link--active":"nav-link",f=s.endsWith("/about-page")?"nav-link--active":"nav-link",b=s.endsWith("/ksknc")?"nav-link--active":"nav-link";return"dark"===i&&(o+=" dark",u+=" dark",l+=" dark",h+=" dark",p+=" dark",f+=" dark",b+=" dark"),Object(d.jsx)("div",{children:Object(d.jsx)(g.a,{children:Object(d.jsx)(g.a.Collapse,{children:Object(d.jsxs)(x.a,{children:[Object(d.jsx)(x.a.Link,{as:c.b,to:"/",className:o,children:"Home"}),Object(d.jsx)(x.a.Link,{as:c.b,to:"/page",className:u,children:"Dashboard"}),Object(d.jsx)(x.a.Link,{as:c.b,to:"/feed",className:l,children:"Feed"}),Object(d.jsx)(x.a.Link,{as:c.b,to:"/user-search",className:h,children:"User Search"}),Object(d.jsx)(x.a.Link,{as:c.b,to:"/page-revisions",className:p,children:"Page Revisions"}),Object(d.jsx)(x.a.Link,{as:c.b,to:"/about-page",className:f,children:"About Us"}),Object(d.jsx)("a",{as:c.b,target:"_blank",rel:"noopener noreferrer",href:"https://github.com/Group29-TCD/Software-Engineering",className:b,children:"Github Project"}),Object(d.jsx)(k,{})]})})})})},C=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"ting",children:[Object(d.jsx)("h2",{className:this.props.styled,children:this.props.btnTitle1}),Object(d.jsx)("h2",{className:this.props.styled,children:this.props.btnTitle2}),Object(d.jsx)("br",{}),Object(d.jsx)(c.b,{to:this.props.btnLink,children:Object(d.jsx)("button",{type:"button",className:this.props.btnStyle,children:this.props.btnText})})]})}}]),a}(n.Component),S=C,N=a(43),D=a.n(N),L=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={text:"something",errorCode:"Loading..."},e.updateStats=function(){D.a.ajax({url:"https://protected-shelf-93081.herokuapp.com/https://www.wikidata.org/wiki/Special:Statistics",type:"GET",success:function(e){D()("#div1").html(D()(D()(e).find(".mw-statistics-articles")).find(".mw-statistics-numbers")),D()("#div2").html(D()(D()(e).find(".mw-statistics-edits")).find(".mw-statistics-numbers")),D()("#div3").html(D()(D()(e).find(".mw-statistics-users")).find(".mw-statistics-numbers")),D()("#div4").html(D()(D()(e).find(".mw-statistics-users-active")).find(".mw-statistics-numbers"))}})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.updateStats(),this.intervalID=setInterval((function(){return e.updateStats()}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"row col-lg-12 mx-auto col-12 justify-content-center  homeStatContainer text-left",children:[Object(d.jsxs)("div",{className:"col-lg-3 col-12 homeStat",children:[Object(d.jsx)("h1",{id:"div1",children:this.state.errorCode}),Object(d.jsx)("h1",{children:"Items"})]}),Object(d.jsxs)("div",{className:"col-lg-3 col-12 homeStat",children:[Object(d.jsx)("h1",{id:"div2",children:this.state.errorCode}),Object(d.jsx)("h1",{children:"Edits"})]}),Object(d.jsxs)("div",{className:"col-lg-3 col-12 homeStat",children:[Object(d.jsx)("h1",{id:"div3",children:this.state.errorCode}),Object(d.jsx)("h1",{children:"Users"})]}),Object(d.jsxs)("div",{className:"col-lg-3 col-12  homeStat",children:[Object(d.jsx)("h1",{id:"div4",children:this.state.errorCode}),Object(d.jsx)("h1",{children:"Active Users"})]})]})}}]),a}(n.Component),T=L,G=a(71),P=a(68),M=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={history:n.props.history},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"HomePage",children:[Object(d.jsx)(w,{history:this.state.history}),Object(d.jsxs)("div",{className:"HomePageContent row margin-right: -15px margin-left: -15px",children:[Object(d.jsx)("div",{className:"col-lg-5 col-sm-12",children:Object(d.jsx)(b,{title:"Wikidata Live",subtitle:"A web app to visualise recent changes to Wikidata in quasi real time."})}),Object(d.jsx)("div",{className:"col-lg-7 col-sm-12 homeNav",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-lg-4 col-sm-12",children:[Object(d.jsx)("h1",{className:"text-red",children:Object(d.jsx)(G.a,{icon:P.a})}),Object(d.jsx)(S,{styled:"font-weight-bold text-red",btnStyle:"align-bottom btn btn-outline-red",btnTitle1:"About",btnTitle2:"Us",btnText:"About",btnLink:"/about-page"})]}),Object(d.jsxs)("div",{className:"col-lg-4 col-sm-12 homeNav",children:[Object(d.jsx)("h1",{className:"text-green",children:Object(d.jsx)(G.a,{icon:P.b})}),Object(d.jsx)(S,{styled:"font-weight-bold text-green",btnStyle:"align-bottom btn btn-outline-green",btnTitle1:"Wikidata",btnTitle2:"Dashboard",btnText:"Dashboard",btnLink:"/page"})]}),Object(d.jsxs)("div",{className:"col-lg-4 col-sm-12 homeNav",children:[Object(d.jsx)("h1",{className:"text-blue",children:Object(d.jsx)(G.a,{icon:P.d})}),Object(d.jsx)(S,{styled:"font-weight-bold text-blue",btnStyle:"align-bottom btn btn-outline-blue",btnTitle1:"User",btnTitle2:"Data",btnText:"Users",btnLink:"/most-active-users"})]})]})})]}),Object(d.jsx)("div",{className:"statsContent row justify-content-center",children:Object(d.jsx)(T,{})})]})}}]),a}(n.Component),I=a(38),F=Object(I.a)(),R=a(201),E=a(9),A=a(4),B=a.n(A),U="https://www.wikidata.org/w/api.php",V={mode:!1},W=function(){var e=Object(E.a)(B.a.mark((function e(){var t,a,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e,t){return t.editcount-e.editcount},a={action:"query",format:"json",list:"allusers",auprop:"editcount|groups",aulimit:V.mode?100:"max",auwitheditsonly:"1",auactiveusers:"1"},n=Z(U,a,5).then((function(e){return e.query.allusers})).then((function(e){return e.sort(t)})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(E.a)(B.a.mark((function e(){var t,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={action:"query",format:"json",list:"recentchanges",rcprop:"title|ids|sizes|timestamp",rclimit:V.mode?100:"500"},a=Z(U,t,5).then((function(e){return e.query.recentchanges})),e.next=4,a;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(E.a)(B.a.mark((function e(){var t,a,n,s,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={action:"query",format:"json",list:"recentchanges",rcprop:"ids",rclimit:V.mode?10:"50"},a=Z(U,t,5).then((function(e){return e.query.recentchanges})),e.next=4,a;case 4:return n=(n=e.sent).map((function(e){return e.revid})),e.next=8,$(n);case 8:return s=e.sent,r=[{id:"damaging",label:"damaging",value:0,color:"#F25543"},{id:"unsure",label:"unsure",value:0,color:"#FFF047"},{id:"good faith",label:"good faith",value:0,color:"#92E16F"}],e.next=12,s;case 12:return s=e.sent,Object.values(s).forEach((function(e){void 0!==e.damaging.score&&!0===e.damaging.score.prediction?r[0].value+=1:void 0!==e.damaging.score&&!1===e.damaging.score.prediction?r[2].value+=1:r[1].value+=1})),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(E.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return(t=e.sent).forEach((function(e){e.value=Math.abs(e.newlen-e.oldlen),e.id=e.revid.toString(),e.label=e.title})),t.sort((function(e,t){return t.value-e.value})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s,r,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=J(t),n=Object(j.a)(a,2),s=n[0],r=n[1],i=s.then((function(e){return Q(e)})),e.next=4,i;case 4:return e.t0=e.sent,e.t1=r,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s,r,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=J(t),n=Object(j.a)(a,2),s=n[0],r=n[1],i=s.then((function(e){return ee(e)})),e.next=4,i;case 4:return e.t0=e.sent,e.t1=r,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(E.a)(B.a.mark((function e(t,a,n,s){var r,i,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],i=null,i=a instanceof Array?te(a,50):[[a]],c=i.map(function(){var e=Object(E.a)(B.a.mark((function e(a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s[t]=a.join("|"),e.abrupt("return",Z(n,s,5).then((function(e){return r.push(e)})).catch((function(e){return null})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=6,Promise.all(c);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,s){return e.apply(this,arguments)}}(),J=function(e){var t=new Date,a=t.toISOString();t-=1e3,t=new Date(t).toISOString();var n={action:"query",format:"json",list:"recentchanges",rcprop:"title|ids|timestamp|user|sizes",rclimit:V.mode?100:"max",rcstart:t,rcend:e};return[Z(U,n,5).then((function(e){return e.query.recentchanges})).then((function(e){var t=e.map((function(e){return e.revid}));return $(t).then((function(t){return e.map((function(e){return e.scores=t[e.revid],e}))}))})),a]},K=function(e){return X("ususers",e,U,{action:"query",format:"json",list:"users",usprop:"groups"}).then((function(e){var t={};return e.forEach((function(e){e.query.users.forEach((function(e){e.groups&&(t[e.name]=e.groups)}))})),t}))},Z=function(){var e=Object(E.a)(B.a.mark((function e(t,a,n){var s,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=new URLSearchParams(a).toString(),r=t+"?"+s+"&origin=*",e.next=5,fetch(r).then((function(e){return e.json()}));case 5:case 14:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(0),1!==n){e.next=12;break}throw e.t0;case 12:return e.next=14,setTimeout(Z(t,a,n-1),500);case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return"revids",a={},n={},e.abrupt("return",X("revids",t,"https://ores.wikimedia.org/v3/scores/wikidatawiki/",a).then((function(e){return e.forEach((function(e){var t;return n=Object(R.a)(Object(R.a)({},n),null===(t=e.wikidatawiki)||void 0===t?void 0:t.scores)})),n})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){var t={};e.forEach((function(e){var a=t[e.title]||0;t[e.title]=a+1}));var a=Object.entries(t).map((function(e){var t=Object(j.a)(e,2);return{id:t[0],actions:t[1]}}));return a.sort((function(e,t){return t.actions-e.actions})),a},ee=function(e){var t=function(e,t){return t.actions-e.actions},a={};e.forEach((function(e){var t=e.user,n=a[t]||0;a[t]=n+1}));var n=Object.entries(a).map((function(e){var t=Object(j.a)(e,2);return{username:t[0],actions:t[1]}})),s=n.map((function(e){return e.username}));return K(s).then((function(e){n.forEach((function(t){return t.groups=e[t.username]})),n.sort(t)})),n},te=function(e,t){for(var a=[];e.length>0;)a.push(e.splice(0,t));return a},ae=function(){function e(t){Object(u.a)(this,e),this.changes=[],this.maxItems=t,this.prevTimestamp=(new Date).toISOString()}return Object(l.a)(e,[{key:"refresh",value:function(){var e=this,t=J(this.prevTimestamp),a=Object(j.a)(t,2),n=a[0],s=a[1];n.then((function(t){var a=t.map((function(e){return e.user}));K(a).then((function(a){return t.forEach((function(t){t.groups=a[t.user],e.changes.unshift(t),e.changes.length>e.maxItems&&e.changes.pop()}))}))})),this.prevTimestamp=s}}]),e}();a(365);var ne=function(e){return Math.round(Math.abs((new Date).getTime()-new Date(e).getTime())/1e3)},se=function(){var e=Object(n.useState)(new ae(30)),t=Object(j.a)(e,1)[0],a=Object(n.useState)(!1),s=Object(j.a)(a,2),r=s[0],i=s[1],c=Object(n.useState)({items:[]}),o=Object(j.a)(c,2),u=o[0],l=o[1];return Object(n.useEffect)((function(){var e=setInterval((function(){r||t.refresh(),l({items:t.changes})}),500);return function(){return clearInterval(e)}}),[t,r]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{className:"text-blue text-left",children:"Most Recent Activity"}),Object(d.jsx)("form",{className:"text-left",onChange:function(){i((function(e){return!e}))},children:Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"checkbox"})," Paused"]})}),Object(d.jsx)("ul",{className:"list-group",children:u.items.map((function(e,t){var a,n,s;return Object(d.jsx)("li",{className:"list-group-item text-left",children:Object(d.jsx)("div",{className:null!==(a=e.scores)&&void 0!==a&&null!==(n=a.damaging)&&void 0!==n&&null!==(s=n.score)&&void 0!==s&&s.prediction?"text-red":"",children:"User ".concat(e.user," action ").concat(e.type," on ").concat(e.title," ").concat(ne(e.timestamp)," seconds ago")})},t)}))})]})},re=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={history:n.props.history},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"HomePage",children:[Object(d.jsx)(w,{history:this.state.history}),Object(d.jsx)("div",{className:"",children:Object(d.jsx)(se,{})}),"."," "]})}}]),a}(n.Component),ie=a(86),ce=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onClick=function(){n.state.history.push(n.state.pageLink)},n.state={history:n.props.history,title:n.props.title,pageLink:n.props.pageLink,graph:n.props.graph},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsx)(ie.a,{onClick:this.onClick,tag:"a",className:"graph-card",children:Object(d.jsxs)(ie.a.Body,{children:[Object(d.jsx)(ie.a.Title,{className:"card-title",children:this.state.title}),this.state.graph]})})}}]),a}(n.Component),oe=a(62),ue=a(23),le=a(317),he=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).tooltip=function(e,t){return Object(d.jsx)("div",{className:"iframe-container",children:Object(d.jsx)("iframe",{src:t+e.indexValue,className:"iframe",title:"tooltip-option-2"})})},n.loadData=function(){n.props.settings.getData.bind(Object(ue.a)(n))().then((function(e){var t=e.slice(0,n.state.fullGraph?30:10);n.setState({loaded:!0,data:t})}))},n.refresh=Object(E.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.paused){e.next=4;break}return t=n.props.settings.refreshMethod.bind(Object(ue.a)(n)),e.next=4,t();case 4:case"end":return e.stop()}}),e)}))),n.state={loaded:!1,data:null,fullGraph:n.props.fullGraph},n.loadData(),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.refreshInterval=setInterval(Object(E.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.refresh();case 2:case"end":return t.stop()}}),t)}))),this.props.settings.refreshTime)}},{key:"render",value:function(){var e={},t=null,a="",n=null,s=!1,r=null,i=[],c=this.props.settings.colorBy?this.props.settings.colorBy:"index";return this.state.fullGraph?(e=this.props.settings.margin?this.props.settings.margin:{top:5,right:30,bottom:80,left:80},this.props.settings.legend&&(i=[this.props.settings.legend]),t=!0,a="full-graph-container",this.props.settings.onClick&&(n=this.props.settings.onClick,s=!0),this.props.settings.tooltip&&(r=this.props.settings.tooltip.bind(this))):(e={top:0,right:0,bottom:0,left:0},t=!1,a="Graph-Container-Card"),Object(d.jsx)("div",{children:this.state.loaded?Object(d.jsx)("div",{className:a,children:Object(d.jsx)(le.a,{data:this.state.data,keys:this.props.settings.keys,indexBy:this.props.settings.index,margin:e,padding:.3,colors:{scheme:this.props.settings.colors},colorBy:c,borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:30,legend:this.props.settings.xAxis,legendPosition:"start",legendOffset:40},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:this.props.settings.yAxis,legendPosition:"middle",legendOffset:-60},enableLabel:t,onClick:s?n:function(){},animate:t,isInteractive:t,motionStiffness:90,motionDamping:15,tooltip:r,legends:i})}):"Loading..."})}}]),a}(n.Component),pe=a(154),de=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).tooltip=function(e,t){return Object(d.jsx)("span",{})},n.loadData=function(){n.props.settings.getData.bind(Object(ue.a)(n))().then((function(e){var t=e.slice(0,n.state.fullGraph?30:9);n.setState({loaded:!0,data:t})}))},n.refresh=Object(E.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.paused||n.loadData();case 1:case"end":return e.stop()}}),e)}))),n.state={loaded:!1,data:null,fullGraph:n.props.fullGraph},n.loadData(),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.refreshInterval=setInterval(Object(E.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.refresh();case 2:case"end":return t.stop()}}),t)}))),this.props.settings.refreshTime)}},{key:"render",value:function(){var e={},t=null,a="",n=function(){},s=null,r={scheme:this.props.settings.colors};return this.props.settings.colorFunction&&(r=this.props.settings.colorFunction),this.state.fullGraph?(e={top:30,right:30,bottom:30,left:30},t=!0,a="full-graph-container",this.props.settings.onClick&&(n=this.props.settings.onClick),this.props.settings.tooltip&&(s=this.props.settings.tooltip.bind(this))):(e={top:0,right:0,bottom:0,left:0},t=!1,a="Graph-Container-Card"),Object(d.jsx)("div",{children:this.state.loaded?Object(d.jsx)("div",{className:a,children:Object(d.jsx)(pe.a,{data:this.state.data,margin:e,innerRadius:.4,padAngle:0,cornerRadius:0,colors:r,enableRadialLabels:t,radialLabel:"label",radialLabelsSkipAngle:10,radialLabelsTextXOffset:6,radialLabelsTextColor:"#333333",radialLabelsLinkOffset:0,radialLabelsLinkDiagonalLength:16,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:{from:"color"},enableSlicesLabels:t,slicesLabelsSkipAngle:10,slicesLabelsTextColor:"#333333",animate:!0,motionStiffness:90,motionDamping:15,isInteractive:this.state.fullGraph,onClick:n,tooltip:s,defs:[{id:"lines",type:"patternLines",background:"inherit",color:"rgba(255, 255, 255, 0.4)",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{type:"edit"},id:"lines"}]})}):"Loading..."})}}]),a}(n.Component),fe=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={history:n.props.history,title:n.props.name},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"HomePage",children:[Object(d.jsx)(w,{history:this.state.history}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-lg-3 col-12 infobox",children:[Object(d.jsx)("h2",{children:this.state.title}),Object(d.jsx)("p",{}),Object(d.jsx)("p",{children:this.props.explanation}),Object(d.jsx)("p",{children:Object(d.jsx)("form",{onChange:this.props.handlePause,children:Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"checkbox",id:"paused",name:"paused",value:this.props.paused})," ","Paused"]})})})]}),Object(d.jsx)("div",{className:"col-lg-9 col-12",children:this.props.graph})]})]})}}]),a}(n.Component),be={getData:function(){var e=Object(E.a)(B.a.mark((function e(){var t,a,n,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_((new Date).toISOString());case 2:return t=e.sent,a=Object(j.a)(t,2),n=a[0],s=a[1],n=n.slice(0,50),this.setState({fullData:n,prevTimestamp:s}),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),refreshTime:2e3,refreshMethod:function(){var e=Object(E.a)(B.a.mark((function e(){var t,a,n,s,r,i,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(this.state.prevTimestamp);case 2:t=e.sent,a=Object(j.a)(t,2),n=a[0],s=a[1],this.setState({prevTimestamp:s}),n=n.slice(0,50),this.state.fullData?(r=this.state.fullData,n.forEach((function(e){for(var t=-1,a=0;a<r.length;a+=1)r[a].username===e.username&&(t=a);-1!==t?r[t].actions+=e.actions:r.push(e)})),r.sort((function(e,t){return t.actions-e.actions})),r.slice(0,50),(i=r.slice(0,this.state.fullGraph?30:10)).forEach((function(e){void 0!==e.groups&&e.groups.includes("bot")?(e.bot=e.actions,e.human=0):(e.bot=0,e.human=e.actions)})),this.setState({fullData:r,data:i})):(c=n.slice(0,this.state.fullGraph?30:10),this.setState({data:c}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),keys:["bot","human"],index:"username",xAxis:"username",yAxis:"actions",colors:"set1",colorBy:"id",legend:{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]},margin:{top:5,right:130,bottom:50,left:80},onClick:function(e){window.open("https://www.wikidata.org/wiki/User:"+e.indexValue,"_blank")},tooltip:function(e){return this.tooltip(e,"https://www.wikidata.org/wiki/User:")}},je=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handlePause=function(e){var t=n.state.paused;n.setState({paused:!t})},n.state={history:n.props.history,paused:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsx)(fe,{handlePause:this.handlePause,paused:this.state.paused,explanation:"A live view of the users active right now. The graph shows users active since this page was loaded. Hover over a bar to get a preview of the user's page, or click to open the user's page in a new tab.",graph:Object(d.jsx)(he,{fullGraph:!0,settings:be,paused:this.state.paused}),name:"Most Active Users"})}}]),a}(n.Component),ve={getData:function(){var e=Object(E.a)(B.a.mark((function e(){var t,a,n,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y((new Date).toISOString());case 2:return t=e.sent,a=Object(j.a)(t,2),n=a[0],s=a[1],n=n.slice(0,50),this.setState({fullData:n,prevTimestamp:s}),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),refreshTime:2e3,refreshMethod:function(){var e=Object(E.a)(B.a.mark((function e(){var t,a,n,s,r,i,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(this.state.prevTimestamp);case 2:t=e.sent,a=Object(j.a)(t,2),n=a[0],s=a[1],this.setState({prevTimestamp:s}),n=n.slice(0,50),this.state.fullData?(r=this.state.fullData,n.forEach((function(e){for(var t=-1,a=0;a<r.length;a+=1)r[a].id===e.id&&(t=a);-1!==t?r[t].actions+=e.actions:r.push(e)})),r.sort((function(e,t){return t.actions-e.actions})),r.slice(0,50),i=r.slice(0,this.state.fullGraph?30:10),this.setState({fullData:r,data:i})):(c=n.slice(0,this.state.fullGraph?30:10),this.setState({data:c}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),keys:["actions"],index:"id",xAxis:"pages",yAxis:"actions",colors:"set1",onClick:function(e){window.open("https://www.wikidata.org/wiki/"+e.indexValue,"_blank")},tooltip:function(e){return this.tooltip(e,"https://www.wikidata.org/wiki/")}},me=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handlePause=function(e){var t=n.state.paused;n.setState({paused:!t})},n.state={history:n.props.history,paused:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsx)(fe,{handlePause:this.handlePause,paused:this.state.paused,explanation:"A live view of the pages being edited right now. The graph shows pages edited since this page was loaded. Hover over a bar to get a preview of the page, or click to open the page in a new tab.",graph:Object(d.jsx)(he,{fullGraph:!0,settings:ve,paused:this.state.paused}),name:"Most Active Pages"})}}]),a}(n.Component),ge={getData:H,refreshTime:2e3,refreshMethod:H,colorBy:"type",colors:"set1",onClick:function(e){window.open("https://www.wikidata.org/wiki/"+e.label,"_blank")},tooltip:function(e){return this.tooltip(e,"https://www.wikidata.org/wiki/")}},xe=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handlePause=function(e){var t=a.state.paused;a.setState({paused:!t})},a.state={history:a.props.history,paused:!1},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(d.jsx)(fe,{handlePause:this.handlePause,paused:this.state.paused,explanation:Object(d.jsxs)("div",{children:["The largest of the last 500 edits. The number in each of the sections represents the size of the edit in bytes. Hover over a section to get a preview of the page, or click to open the page in a new tab.",Object(d.jsx)("p",{children:Object(d.jsx)("img",{className:"legend",src:a(105),alt:"Legend"})})]}),graph:Object(d.jsx)(de,{fullGraph:!0,settings:ge,paused:this.state.paused}),name:"Largest Recent Edits"})}}]),n}(n.Component),Oe={getData:function(){var e=Object(E.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return(t=e.sent).forEach((function(e){e.id=e.revid.toString(),e.value=Math.abs(e.newlen-e.oldlen),e.label=e.title})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),refreshTime:2e3,refreshMethod:function(){var e=Object(E.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return(t=e.sent).forEach((function(e){e.value=Math.abs(e.newlen-e.oldlen),e.id=e.revid.toString(),e.label=e.title})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),colorBy:"type",colors:"set1",onClick:function(e){window.open("https://www.wikidata.org/wiki/"+e.label,"_blank")},tooltip:function(e){return this.tooltip(e,"https://www.wikidata.org/wiki/")}},ye=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handlePause=function(e){var t=a.state.paused;a.setState({paused:!t})},a.state={history:a.props.history,paused:!1},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(d.jsx)(fe,{handlePause:this.handlePause,paused:this.state.paused,explanation:Object(d.jsxs)("div",{children:["The size of the last 30 edits. The number in each of the sections represents the size of the edit in bytes. Hover over a section to get a preview of the page, or click to open the page in a new tab.",Object(d.jsx)("p",{children:Object(d.jsx)("img",{className:"legend",src:a(105),alt:"Legend"})})]}),graph:Object(d.jsx)(de,{fullGraph:!0,settings:Oe,paused:this.state.paused}),name:"Recent Edit Size"})}}]),n}(n.Component),ke={getData:z,refreshTime:2e3,refreshMethod:z,colorBy:"type",colors:"category10",name:"Proportion Of Edits Flagged"},we=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handlePause=function(e){var t=n.state.paused;n.setState({paused:!t})},n.state={history:n.props.history,paused:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsx)(fe,{handlePause:this.handlePause,paused:this.state.paused,explanation:"The proportion of the last 50 edits that was flagged as potentially damaging.",graph:Object(d.jsx)(de,{fullGraph:!0,settings:ke,paused:this.state.paused}),name:ke.name})}}]),a}(n.Component),Ce=a(22),Se=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).tooltip=function(e,t){return Object(d.jsx)("span",{})},n.loadData=function(){n.props.settings.getData.bind(Object(ue.a)(n))(n.props.value).then((function(e){if(-1!=e){var t=e.slice(0,n.state.fullGraph?30:9);n.setState({loaded:!0,data:t})}else n.setState({dataFinished:!0})}))},n.loadDataCont=function(){n.props.settings.refreshMethod.bind(Object(ue.a)(n))(n.props.value).then((function(e){if(-1!=e){var t=e.slice(0,n.state.fullGraph?30:9);n.setState({loaded:!0,data:t})}else n.setState({dataFinished:!0,initialCall:!0})}))},n.refresh=Object(E.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({initialCall:!1}),n.loadData();case 2:case"end":return e.stop()}}),e)}))),n.refreshCont=Object(E.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.loadDataCont();case 1:case"end":return e.stop()}}),e)}))),n.state={loaded:!1,data:null,fullGraph:n.props.fullGraph,value:n.props.value,initialCall:!0,dataFinished:!1,changeValue:"",initialWait:!0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.refreshInterval=setInterval(Object(E.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.loading||e.setState({loaded:!1,initialCall:!0,dataFinished:!1}),e.state.changeValue!=e.props.value&&e.setState({changeValue:e.props.value,value:e.props.value,dataFinished:!1,initialCall:!0}),!e.state.initialCall||!e.state.value||e.state.dataFinished){t.next=8;break}return e.setState({changeValue:e.state.value}),t.next=6,e.refresh();case 6:t.next=11;break;case 8:if(e.state.initialCall||!e.state.value||e.state.dataFinished){t.next=11;break}return t.next=11,e.refreshCont();case 11:case"end":return t.stop()}}),t)}))),this.props.settings.refreshTime)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshInterval)}},{key:"render",value:function(){var e={},t=null,a="",n=function(){},s=null,r={scheme:this.props.settings.colors};return this.props.settings.colorFunction&&(r=this.props.settings.colorFunction),this.state.fullGraph?(e={top:30,right:30,bottom:30,left:30},t=!0,a="full-graph-container",this.props.settings.onClick&&(n=this.props.settings.onClick),this.props.settings.tooltip&&(s=this.props.settings.tooltip.bind(this))):(e={top:0,right:0,bottom:0,left:0},t=!1,a="Graph-Container-Card"),Object(d.jsx)("div",{children:this.state.loaded?Object(d.jsx)("div",{className:a,children:Object(d.jsx)(pe.a,{data:this.state.data,margin:e,innerRadius:.4,padAngle:0,cornerRadius:0,colors:r,enableRadialLabels:t,radialLabel:"label",radialLabelsSkipAngle:10,radialLabelsTextXOffset:6,radialLabelsTextColor:"#333333",radialLabelsLinkOffset:0,radialLabelsLinkDiagonalLength:16,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:{from:"color"},enableSlicesLabels:t,slicesLabelsSkipAngle:10,slicesLabelsTextColor:"#333333",animate:!0,motionStiffness:90,motionDamping:15,isInteractive:this.state.fullGraph,onClick:n,tooltip:s,defs:[{id:"lines",type:"patternLines",background:"inherit",color:"rgba(255, 255, 255, 0.4)",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{type:"edit"},id:"lines"}]})}):"Loading..."})}}]),a}(n.Component),Ne=Object(l.a)((function e(t){Object(u.a)(this,e),this.data=t,this.time=Date.now()})),De=function(){function e(){Object(u.a)(this,e),this.data={},this.length=0}return Object(l.a)(e,[{key:"addCache",value:function(e,t){this.data[e]||this.length++,this.data[e]=new Ne(t),this.cleanCache()}},{key:"getCache",value:function(e){return this.data[e]?this.data[e].data:-1}},{key:"cleanCache",value:function(){for(;this.length>1024;){var e=null;for(var t in this.data)(null==e||this.data[t].time<this.data[e].time)&&(e=t);this.length--,delete this.data[e]}}}]),e}(),Le="https://www.wikidata.org/w/api.php",Te="https://en.wikipedia.org/w/api.php",Ge=a(488),Pe=(a(547).XMLHttpRequest,new De),Me=new De,Ie=new De,Fe=new De,Re=function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1==(a=Pe.getCache(t))){e.next=5;break}return e.abrupt("return",a);case 5:return n={action:"query",format:"json",list:"usercontribs",uclimit:20,ucuser:t},e.next=8,Ue(Te,n,5).then((function(e){return qe(e.query.usercontribs,e)}));case 8:return s=e.sent,Pe.addCache(s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(E.a)(B.a.mark((function e(t,a){var n,s,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1==(n=Pe.getCache(a))){e.next=5;break}return e.abrupt("return",n);case 5:return s={action:"query",format:"json",list:"usercontribs",uclimit:20,ucuser:t,uccontinue:a},e.next=8,Ue(Te,s,5).then((function(e){return qe(e.query.usercontribs,e)}));case 8:return r=e.sent,Pe.addCache(a,r),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(E.a)(B.a.mark((function e(t){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(t);case 2:if(-1!==(a=e.sent)){e.next=5;break}return e.abrupt("return",-1);case 5:return e.next=7,He(a);case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(E.a)(B.a.mark((function e(t,a){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(t);case 2:if(-1!==(n=e.sent)){e.next=5;break}return e.abrupt("return",-1);case 5:return e.next=7,Ye(n,a);case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(E.a)(B.a.mark((function e(t,a,n){var s,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=new URLSearchParams(a).toString(),r=t+"?"+s+"&origin=*",e.next=5,Ge(r).then((function(e){return e.json()}));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(0),1!==n){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",setTimeout(Ue(t,a,n-1),500));case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(E.a)(B.a.mark((function e(t){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=-1;"undefined"===typeof t[a];)a+=1;if(!t[a].hasOwnProperty("pageprops")){e.next=4;break}return e.abrupt("return",t[a].pageprops.wikibase_item);case 4:return e.abrupt("return",-1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(E.a)(B.a.mark((function e(t){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=0;"undefined"===typeof t[a];)a+=1;if(!t[a].hasOwnProperty("revisions")){e.next=4;break}return e.abrupt("return",t[a].revisions);case 4:return e.abrupt("return",-1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(E.a)(B.a.mark((function e(t,a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.hasOwnProperty("continue")){e.next=4;break}return e.abrupt("return",[t,a.continue.uccontinue]);case 4:return e.abrupt("return",[t,-1]);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ze=function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1==(a=Ie.getCache(t))){e.next=5;break}return e.abrupt("return",a);case 5:return n={action:"query",format:"json",prop:"pageprops",titles:t},e.next=8,Ue(Te,n,5).then((function(e){return Ve(e.query.pages)}));case 8:return s=e.sent,Ie.addCache(t,s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1==(a=Me.getCache(t))){e.next=5;break}return e.abrupt("return",a);case 5:return n={action:"query",format:"json",prop:"revisions",titles:t,rvprops:"ids|timestamp|flags|comment|user",rvlimit:20},e.next=8,Ue(Le,n,5).then((function(e){return _e(e.query.pages,e)}));case 8:return s=e.sent,Me.addCache(t,s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(E.a)(B.a.mark((function e(t,a){var n,s,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1==(n=Me.getCache(a))){e.next=5;break}return e.abrupt("return",n);case 5:return s={action:"query",format:"json",prop:"revisions",titles:t,rvprops:"ids|timestamp|flags|comment|user",rvlimit:20,rvcontinue:a},e.next=8,Ue(Le,s,5).then((function(e){return _e(e.query.pages,e)}));case 8:return r=e.sent,Me.addCache(a,r),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_e=function(){var e=Object(E.a)(B.a.mark((function e(t,a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.hasOwnProperty("continue")){e.next=4;break}return e.abrupt("return",[We(t),a.continue.rvcontinue]);case 4:return e.abrupt("return",[We(t),-1]);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1==(a=Fe.getCache(t))){e.next=5;break}return e.abrupt("return",a);case 5:return n={action:"query",format:"json",list:"prefixsearch",pssearch:t},e.next=8,Ue(Te,n,5).then((function(e){return e}));case 8:return s=e.sent,Fe.addCache(t,s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je={getData:function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s,r,i,c,o,u,l,h=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}return e.next=3,Ae(t).then((function(e){e[0].then((function(e){h.setState({values:e})})),h.setState({keyValue:e[1]})}));case 3:e.sent,a=new Map,this.state.values.forEach((function(e){a.has(e.user)||a.set(e.user,e)})),n=Object(Ce.a)(a.values());try{for(r=function(){var e=s.value;e.id=e.revid,e.label=e.user,e.value=h.state.values.reduce((function(t,a){return a.user===e.user&&t++,t}),0)},n.s();!(s=n.n()).done;)r()}catch(p){n.e(p)}finally{n.f()}i=[a.size],c=0,o=Object(Ce.a)(a.values());try{for(o.s();!(u=o.n()).done;)l=u.value,i[c++]=l}catch(p){o.e(p)}finally{o.f()}return this.setState({singleArray:i}),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),refreshTime:2e3,refreshMethod:function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s,r,i,c,o,u,l,h=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1==this.state.keyValue){e.next=14;break}return e.next=3,Be(t,this.state.keyValue).then((function(e){e[0].then((function(e){h.setState({values:h.state.values.concat(e)})})),h.setState({keyValue:e[1]})}));case 3:e.sent,a=new Map,this.state.values.forEach((function(e){a.has(e.user)||a.set(e.user,e)})),n=Object(Ce.a)(a.values());try{for(r=function(){var e=s.value;e.id=e.revid,e.label=e.user,e.value=h.state.values.reduce((function(t,a){return a.user===e.user&&t++,t}),0)},n.s();!(s=n.n()).done;)r()}catch(p){n.e(p)}finally{n.f()}i=[a.size],c=0,o=Object(Ce.a)(a.values());try{for(o.s();!(u=o.n()).done;)l=u.value,i[c++]=l}catch(p){o.e(p)}finally{o.f()}return this.setState({singleArray:i}),e.abrupt("return",i);case 14:return e.abrupt("return",-1);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),colorBy:"type",colors:"set1",onClick:function(e){window.open("https://www.wikidata.org/wiki/User:"+e.label)},tooltip:function(e){return this.tooltip(e,"https://www.wikidata.org/wiki/User:")}},Ke=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handlePause=function(){var e=a.state.paused;a.setState({paused:!e})},a.state={history:a.props.history,paused:!1,value:a.props.value,key:"",recentChanges:[],loading:!0,fullGraph:a.props.fullGraph},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){0==this.state.fullGraph&&this.props.onRef(this)}},{key:"onclick",value:function(e){this.setState({value:e})}},{key:"render",value:function(){return this.props.fullGraph?Object(d.jsx)(fe,{handlePause:this.handlePause,paused:this.state.paused,explanation:Object(d.jsxs)("div",{children:["The number of changes made by different users on this page. Hover over a section to get a preview of the page, or click to open the page in a new tab.",Object(d.jsx)("p",{children:Object(d.jsx)("img",{className:"legend",src:a(105),alt:"Legend"})})]}),graph:Object(d.jsx)(Se,{fullGraph:this.props.fullGraph,settings:Je,paused:this.state.paused,recentChanges:this.state.recentChanges,value:this.state.value,loading:this.state.loading}),name:"Number of Changes"}):""===this.state.value?Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"Search For a Graph"})}):Object(d.jsx)(Se,{fullGraph:this.props.fullGraph,settings:Je,paused:this.state.paused,recentChanges:this.state.recentChanges,value:this.state.value,loading:this.state.loading})}}]),n}(n.Component),Ze=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={history:n.props.history},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"HomePage",children:[Object(d.jsx)(w,{}),Object(d.jsxs)("div",{className:"row justify-content-left text-dark",children:[Object(d.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-4",children:[Object(d.jsx)("div",{className:"feedContainer",children:Object(d.jsx)(se,{})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:"feed-button button-position",onClick:function(t){e.props.history.push("/user-search")},children:"User Search"}),Object(d.jsx)("button",{className:"feed-button button-position",onClick:function(t){e.props.history.push("/page-revisions")},children:"Page Search"})]})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-8",children:[Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"checkbox",value:"memory",onInput:function(e){V.mode=!V.mode,console.log("Memory mode toggled")}}),"Memory saving mode"]}),Object(d.jsxs)("div",{className:"deck-container",children:[Object(d.jsxs)(oe.a,{className:"deck",children:[Object(d.jsx)(ce,{title:"Recent Edit Size",pageLink:"recent-edit-size",history:this.state.history,graph:Object(d.jsx)(de,{paused:!0,fullGraph:!1,settings:Oe})}),Object(d.jsx)(ce,{title:"Most Active Users",pageLink:"most-active-users",history:this.state.history,graph:Object(d.jsx)(he,{paused:!1,fullGraph:!1,settings:be})})]}),Object(d.jsx)(oe.a,{className:"deck",children:Object(d.jsx)(ce,{title:"Most Active Pages",pageLink:"most-active-pages",history:this.state.history,graph:Object(d.jsx)(he,{paused:!1,fullGraph:!1,settings:ve})})}),Object(d.jsxs)(oe.a,{className:"deck",children:[Object(d.jsx)(ce,{title:"Largest Recent Edits",pageLink:"largest-recent-edits",history:this.state.history,graph:Object(d.jsx)(de,{paused:!0,fullGraph:!1,settings:ge})}),Object(d.jsx)(ce,{title:ke.name,pageLink:"proportion-flagged",history:this.state.history,graph:Object(d.jsx)(de,{paused:!1,fullGraph:!1,settings:ke})})]})]})]})]})]})}}]),a}(n.Component),$e={getData:function(){var e=Object(E.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),refreshTime:2e3,refreshMethod:function(){this.loadData()},keys:["editcount"],index:"name",xAxis:"users",yAxis:"edit count",colors:"paired",tooltip:function(e){return this.tooltip(e,"https://www.wikidata.org/wiki/User:")}},Qe=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handlePause=function(e){n.setState({paused:e.target.value})},n.state={history:n.props.history,paused:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsx)(fe,{handlePause:this.handlePause,paused:this.state.paused,graph:Object(d.jsx)(he,{fullGraph:!0,settings:$e,paused:this.state.paused}),name:"Users By Most Edits"})}}]),a}(n.Component),et=a(219),tt=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).setData=function(){var e=[];e=n.state.currentStudent?[{firstName:"Brian",lastName:"Lynch",year:"3rd Year CS",team:"Frontend Team",github:"https://github.com/brianlunch"},{firstName:"Isobel",lastName:"Mahon",year:"3rd Year CS",team:"Frontend Team",github:"https://github.com/isobelm"},{firstName:"Odhran",lastName:"Mullen",year:"3rd Year CSB",team:"Backend Team",github:"https://github.com/omullan"},{firstName:"Alex",lastName:"Mahon",year:"2nd Year CS",team:"Frontend Team",github:"https://github.com/Juuiko"},{firstName:"Flora",lastName:"Molnar",year:"2nd Year CSB",team:"Frontend Team",github:"https://github.com/flora-m"},{firstName:"Lexes",lastName:"Mantiquilla",year:"2nd Year CS",team:"Backend Team",github:"https://github.com/lexesjan"}]:[{firstName:"Jeremie",lastName:"Sajeev Daniel",year:"3rd Year ICS",team:"Backend Team",github:"https://github.com/JeremieSD"},{firstName:"Conor",lastName:"O'Neill",year:"3rd Year ICS",team:"Frontend Team",github:"https://github.com/conoro24"},{firstName:"Matteo",lastName:"McGuinness",year:"2nd Year ICS",team:"Frontend Team",github:"https://github.com/m477301"},{firstName:"Emmet",lastName:"Morrin",year:"2nd Year ICS",team:"Backend Team",github:"https://github.com/Unimuspanet"},{firstName:"Aoife",lastName:"Khan",year:"2nd Year CSB",team:"Frontend Team",github:"https://github.com/aoife-K"},{firstName:"Xiaolei",lastName:"Zhang",year:"2nd Year ICS",team:"Frontend Team",github:"https://github.com/Xiaoleiii"}],n.setState({currentStudent:!n.state.currentStudent,studentList:e})},n.state={history:n.props.history,studentList:[{firstName:"Jeremie",lastName:"Sajeev Daniel",year:"3rd Year ICS",team:"Backend Team",github:"https://github.com/JeremieSD"},{firstName:"Conor",lastName:"O'Neill",year:"3rd Year ICS",team:"Frontend Team",github:"https://github.com/conoro24"},{firstName:"Matteo",lastName:"McGuinness",year:"2nd Year ICS",team:"Frontend Team",github:"https://github.com/m477301"},{firstName:"Emmet",lastName:"Morrin",year:"2nd Year ICS",team:"Backend Team",github:"https://github.com/Unimuspanet"},{firstName:"Aoife",lastName:"Khan",year:"2nd Year CSB",team:"Frontend Team",github:"https://github.com/aoife-K"},{firstName:"Xiaolei",lastName:"Zhang",year:"2nd Year ICS",team:"Frontend Team",github:"https://github.com/Xiaoleiii"}],currentStudent:!0},n.setData=n.setData.bind(Object(ue.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"aboutPageContainer",children:[Object(d.jsx)(w,{history:this.state.history}),Object(d.jsx)("div",{className:" text-left",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-lg-6 col-sm-12  aboutPageContent",children:[Object(d.jsxs)("div",{className:"explainContainer text-left",children:[Object(d.jsx)("h3",{className:"text-blue",children:"Why we made our project"}),Object(d.jsx)("p",{children:"We are a group of Computer Science students studying in Trinity College Dublin. We undertake a module in which we are given real world projects from a variety of individuals, researchers and businesses."}),Object(d.jsx)("p",{children:"Our clients were Fabrizio and Damien who work in the Trinity ADAPT research center and they tasked us to create a website that will visualise various changes to Wikidata in quasi-real-time. Its targeted users are researchers and should make it easier to identify spam and incorrect or malicious edits to Wikidata."})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:" licenseContainer text-left",children:[Object(d.jsx)("h3",{className:"text-blue",children:"Licensing"}),Object(d.jsx)("p",{children:"We have insured all libraries and all project dependencies licenses cover our web apps intended use."}),Object(d.jsxs)("p",{children:["We have decided to use an"," ",Object(d.jsx)("a",{href:"https://opensource.org/licenses/MIT",children:"MIT license"})," ","for this project."]}),Object(d.jsxs)("p",{children:["More in depth information along with the projects source code can be found on the projects"," ",Object(d.jsx)("a",{href:"https://github.com/isobelm/Software-Engineering",children:"Github."})," "]})]})]}),Object(d.jsxs)("div",{className:"col-lg-6 col-sm-12 profiles",children:[Object(d.jsxs)("div",{className:"client",children:[Object(d.jsx)("h3",{className:"text-red",children:"Clients"}),Object(d.jsxs)("div",{className:"card-deck",children:[Object(d.jsx)("div",{className:"card card-profile",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title text-center ",children:"Damien Graux"}),Object(d.jsx)("div",{className:"text-center",children:Object(d.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"GH aBlack",href:"https://dgraux.github.io/",children:Object(d.jsx)(G.a,{icon:P.c})})})]})}),Object(d.jsx)("div",{className:"card card-profile",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title text-center",children:"Fabrizio Orlandi"}),Object(d.jsx)("div",{className:"text-center",children:Object(d.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"GH aBlack",href:"https://www.scss.tcd.ie/personnel/orlandif",children:Object(d.jsx)(G.a,{icon:P.c})})})]})})]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"text-title",children:[Object(d.jsx)("h3",{className:"text-red",children:"Students"}),Object(d.jsx)("button",{className:"text-button text-title-button",onClick:this.setData,children:this.state.currentStudent?"see previous team":"see present team"})]}),Object(d.jsx)("div",{className:"card-deck  text-center",children:this.state.studentList.slice(0,3).map((function(e,t){return Object(d.jsx)("div",{className:"card card-profile",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("h5",{className:"card-title text-center",children:[e.firstName,Object(d.jsx)("br",{})," ",e.lastName]}),Object(d.jsxs)("p",{className:"card-text",children:[Object(d.jsx)("b",{children:e.year}),Object(d.jsx)("br",{}),e.team]}),Object(d.jsx)("div",{className:"text-center",children:Object(d.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"GH aBlack",href:e.github,children:Object(d.jsx)(G.a,{icon:et.a})})})]})},t)}))}),Object(d.jsx)("div",{className:"card-deck  text-center",children:this.state.studentList.slice(3,6).map((function(e,t){return Object(d.jsx)("div",{className:"card card-profile",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("h5",{className:"card-title text-center",children:[e.firstName,Object(d.jsx)("br",{})," ",e.lastName]}),Object(d.jsxs)("p",{className:"card-text",children:[Object(d.jsx)("b",{children:e.year}),Object(d.jsx)("br",{}),e.team]}),Object(d.jsx)("div",{className:"text-center",children:Object(d.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"GH aBlack",href:e.github,children:Object(d.jsx)(G.a,{icon:et.a})})})]})},t)}))})]})]})})]})}}]),a}(n.Component),at=a(95),nt=function(e){var t=Object(n.useState)(""),a=Object(j.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)([]),c=Object(j.a)(i,2),o=c[0],u=c[1],l=Object(n.useState)(!1),h=Object(j.a)(l,2),p=h[0],f=h[1],b=function(e){var t=e.query.prefixsearch;u([]),t.map((function(e){var t=e.title,a={id:e.pageid,title:t};u((function(e){return[].concat(Object(at.a)(e),[a])}))}))},v=function(e){e.preventDefault()};return Object(n.useEffect)((function(){var t;s&&!p?(t=s,0==e.settings.type&&e.settings.getData.bind(void 0)(t).then((function(e){b(e)}))):(u([]),f(!1))}),[s]),Object(d.jsx)("form",{autoComplete:"off",onSubmit:v,style:{height:"100%"},children:Object(d.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(d.jsxs)("div",{className:"autoComplete",style:{position:"relative",margin:"2rem"},children:[Object(d.jsx)("input",{type:"text",id:"input",name:"input",value:s,onChange:function(e){return r(e.target.value)},style:{backgroundColor:"#f1f1f1",marginRight:"2rem",width:"15rem",borderStyle:"solid",borderColor:"#d4d4d4"}}),Object(d.jsx)("input",{type:"submit",onClick:function(){e.searchValue(s)},style:{}}),s&&o.map((function(e){var t=e.id,a=e.title;return Object(d.jsx)("div",{className:"searchListSuggestion",onClick:function(e){f(!0),r(a),v(e)},children:a},t)}))]})})})},st=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={history:n.props.history,recentChanges:[],paused:!1,value:"",cont:-1,max:!0},n.togglePause=n.togglePause.bind(Object(ue.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.refreshInterval=setInterval(function(){var e=this;if(!this.state.paused&&this.state.value&&-1!=this.state.cont)Re(this.state.value).then((function(t){t[0]&&e.setState({recentChanges:e.state.recentChanges.concat(t[0]),cont:t[1]})}))}.bind(this),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshInterval)}},{key:"onclick",value:function(e){var t=this;if(e){this.setState({value:e});Re(e).then((function(e){e[0]&&t.setState({recentChanges:e[0],cont:e[1]})}))}}},{key:"togglePause",value:function(){this.state.paused=!this.state.paused}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{className:"text-blue text-left",children:"User Search"}),Object(d.jsx)("form",{className:"text-left",onChange:this.togglePause,children:Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"checkbox"})," Paused"]})}),Object(d.jsx)("ul",{className:"search-list-page-group",children:this.state.recentChanges.map((function(e,t){return Object(d.jsx)("li",{className:"list-group-item text-left",children:Object(d.jsxs)("div",{children:["Title: ".concat(e.title),Object(d.jsx)("br",{}),"Comment: ".concat(e.comment),Object(d.jsx)("br",{}),"Time: ".concat(e.timestamp)]})},t)}))})]})}}]),a}(n.Component),rt=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onClick=function(){n.state.history.push(n.state.pageLink+":"+n.props.value)},n.state={history:n.props.history,title:n.props.title,pageLink:n.props.pageLink,graph:n.props.graph,value:n.props.value},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsx)(ie.a,{onClick:this.onClick,tag:"a",className:"graph-card",children:Object(d.jsxs)(ie.a.Body,{children:[Object(d.jsx)(ie.a.Title,{className:"card-title",children:this.state.title}),this.state.graph]})})}}]),a}(n.Component),it={getData:function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s,r,i,c,o,u,l,h=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}return e.next=3,Re(t).then((function(e){e[0]&&(h.setState({values:e[0]}),h.setState({keyValue:e[1]}))}));case 3:if(e.sent,-1==this.state.keyValue){e.next=15;break}a=new Map,this.state.values.forEach((function(e){a.has(e.title)||a.set(e.title,e)})),n=Object(Ce.a)(a.values());try{for(r=function(){var e=s.value;e.id=e.revid,e.label=e.title,e.value=h.state.values.reduce((function(t,a){return a.title===e.title&&t++,t}),0)},n.s();!(s=n.n()).done;)r()}catch(p){n.e(p)}finally{n.f()}i=[a.size],c=0,o=Object(Ce.a)(a.values());try{for(o.s();!(u=o.n()).done;)l=u.value,i[c++]=l}catch(p){o.e(p)}finally{o.f()}return this.setState({singleArray:i}),e.abrupt("return",i);case 15:return e.abrupt("return",-1);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),refreshTime:2e3,refreshMethod:function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s,r,i,c,o,u,l,h=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1==this.state.keyValue){e.next=14;break}return e.next=3,Ee(t,this.state.keyValue).then((function(e){e[0]&&(h.setState({values:h.state.values.concat(e[0])}),h.setState({keyValue:e[1]}))}));case 3:e.sent,a=new Map,this.state.values.forEach((function(e){a.has(e.title)||a.set(e.title,e)})),n=Object(Ce.a)(a.values());try{for(r=function(){var e=s.value;e.id=e.revid,e.label=e.title,e.value=h.state.values.reduce((function(t,a){return a.title===e.title&&t++,t}),0)},n.s();!(s=n.n()).done;)r()}catch(p){n.e(p)}finally{n.f()}i=[a.size],c=0,o=Object(Ce.a)(a.values());try{for(o.s();!(u=o.n()).done;)l=u.value,i[c++]=l}catch(p){o.e(p)}finally{o.f()}return this.setState({singleArray:i}),e.abrupt("return",i);case 14:return e.abrupt("return",-1);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),colorBy:"type",colors:"set1",onClick:function(e){window.open("https://www.wikidata.org/wiki/"+e.label,"_blank")},tooltip:function(e){return this.tooltip(e,"https://www.wikidata.org/wiki/")}},ct=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={history:a.props.history,paused:!1,value:a.props.value,key:"",recentChanges:[],loading:!1,fullGraph:a.props.fullGraph},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){0==this.state.fullGraph?this.props.onRef(this):this.state.value&&this.setState({loading:!0})}},{key:"onclick",value:function(e){this.setState({value:e}),e?this.setState({loading:!0}):this.setState({loading:!1})}},{key:"render",value:function(){return this.state.fullGraph?Object(d.jsx)(fe,{handlePause:this.handlePause,paused:this.state.paused,explanation:Object(d.jsxs)("div",{children:["The number of changes made by this user on different pages. Hover over a section to get a preview of the page, or click to open the page in a new tab.",Object(d.jsx)("p",{children:Object(d.jsx)("img",{className:"legend",src:a(105),alt:"Legend"})})]}),graph:Object(d.jsx)(Se,{fullGraph:this.state.fullGraph,settings:it,paused:this.state.paused,recentChanges:this.state.recentChanges,value:this.state.value,loading:this.state.loading}),name:"Number of Changes by "+this.state.value}):""===this.state.value?Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"Search For a Graph"})}):Object(d.jsx)(Se,{fullGraph:this.state.fullGraph,settings:it,paused:this.state.paused,recentChanges:this.state.recentChanges,value:this.state.value,loading:this.state.loading})}}]),n}(n.Component),ot=a(330),ut=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).startDate=n.findStartDate(),n.todaysDate=n.findTodaysDate(),n.refresh=Object(E.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({initialCall:!1}),n.loadData();case 2:case"end":return e.stop()}}),e)}))),n.refreshCont=Object(E.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.loadDataCont();case 1:case"end":return e.stop()}}),e)}))),n.tooltip=function(e,t){return Object(d.jsx)("div",{className:"iframe-container",children:Object(d.jsx)("iframe",{src:t+e.indexValue,className:"iframe",title:"tooltip-option-2"})})},n.loadData=function(){n.props.settings.getData.bind(Object(ue.a)(n))(n.props.value).then((function(e){var t=e;n.setState({loaded:!0,data:t})}))},n.loadDataCont=function(){n.props.settings.refreshMethod.bind(Object(ue.a)(n))(n.props.value).then((function(e){if(-1!=e){var t=e;n.setState({loaded:!0,data:t})}else n.setState({dataFinished:!0,initialCall:!0})}))},n.render=function(){var e="";return n.state.fullGraph?({top:5,right:60,bottom:80,left:80},e="full-graph-container",n.props.settings.onClick):({top:0,right:0,bottom:0,left:0},e="Graph-Container-Card"),Object(d.jsx)("div",{className:e,children:!1===n.state.loaded?"Loading...":Object(d.jsx)(ot.a,{data:n.state.data,from:n.startDate,to:n.todaysDate,emptyColor:"#eeeeee",colors:["#61cdbb","#97e3d5","#e8c1a0","#f47560"],margin:{top:40,right:40,bottom:40,left:40},yearSpacing:40,monthBorderColor:"#ffffff",dayBorderWidth:2,dayBorderColor:"#ffffff",legends:[{anchor:"bottom-right",direction:"row",translateY:36,itemCount:4,itemWidth:42,itemHeight:36,itemsSpacing:14,itemDirection:"right-to-left"}]})})},n.state={loaded:!1,data:null,fullGraph:n.props.fullGraph,value:n.props.value,initialCall:!0,dataFinished:!1,changeValue:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.refreshInterval=setInterval(Object(E.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.loading||e.setState({loaded:!1,initialCall:!0,dataFinished:!1}),e.state.changeValue!=e.props.value&&e.setState({changeValue:e.props.value,value:e.props.value,dataFinished:!1,initialCall:!0}),!e.state.initialCall||!e.state.value||e.state.dataFinished||!e.props.loading){t.next=8;break}return e.setState({changeValue:e.state.value}),t.next=6,e.refresh();case 6:t.next=11;break;case 8:if(e.state.initialCall||!e.state.value||e.state.dataFinished||!e.props.loading){t.next=11;break}return t.next=11,e.refreshCont();case 11:case"end":return t.stop()}}),t)}))),this.props.settings.refreshTime)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshInterval)}},{key:"findTodaysDate",value:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}},{key:"findStartDate",value:function(){return(new Date).getFullYear()-1+"-01-01"}}]),a}(n.Component),lt={getData:function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s,r,i,c,o,u,l,h=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(t).then((function(e){e[0]&&(h.setState({values:e[0]}),h.setState({nextVals:e[0]}),h.setState({keyValue:e[1]}))}));case 2:e.sent,a=new Map,this.state.values.forEach((function(e){!a.has(e.timestamp.slice(0,-10))&&e.timestamp.slice(0,-10)>"2020-01-01"&&e.timestamp.slice(0,-10)<"2021-07-01"&&a.set(e.timestamp.slice(0,-10),e)})),n=Object(Ce.a)(a.values());try{for(r=function(){var e=s.value;e.day=e.timestamp.slice(0,-10),e.value=h.state.values.reduce((function(t,a){return a.timestamp.slice(0,-10)===e.day&&t++,t}),0)},n.s();!(s=n.n()).done;)r()}catch(p){n.e(p)}finally{n.f()}i=[a.size],c=0,o=Object(Ce.a)(a.values());try{for(o.s();!(u=o.n()).done;)l=u.value,i[c++]=l}catch(p){o.e(p)}finally{o.f()}return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),refreshTime:2e3,refreshMethod:function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s,r,i,c,o,u,l,h=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1==this.state.keyValue){e.next=13;break}return e.next=3,Ee(t,this.state.keyValue).then((function(e){e[0]&&h.setState({values:h.state.values.concat(e[0])}),h.setState({keyValue:e[1]})}));case 3:e.sent,a=new Map,this.state.values.forEach((function(e){!a.has(e.timestamp.slice(0,-10))&&e.timestamp.slice(0,-10)>"2020-01-01"&&e.timestamp.slice(0,-10)<"2021-07-01"&&a.set(e.timestamp.slice(0,-10),e)})),n=Object(Ce.a)(a.values());try{for(r=function(){var e=s.value;e.day=e.timestamp.slice(0,-10),e.value=h.state.values.reduce((function(t,a){return a.timestamp.slice(0,-10)===e.day&&t++,t}),0)},n.s();!(s=n.n()).done;)r()}catch(p){n.e(p)}finally{n.f()}i=[a.size],c=0,o=Object(Ce.a)(a.values());try{for(o.s();!(u=o.n()).done;)l=u.value,i[c++]=l}catch(p){o.e(p)}finally{o.f()}return e.abrupt("return",i);case 13:return e.abrupt("return",-1);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),colorBy:"type",colors:"set1",onClick:function(e){window.open("https://www.wikidata.org/wiki/"+e.label,"_blank")},tooltip:function(e){return this.tooltip(e,"https://www.wikidata.org/wiki/")}},ht=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handlePause=function(e){var t=a.state.paused;a.setState({paused:!t})},a.state={history:a.props.history,paused:!1,value:a.props.value,loading:!1,fullGraph:a.props.fullGraph},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){0==this.state.fullGraph?this.props.onRef(this):this.state.value&&this.setState({loading:!0})}},{key:"onclick",value:function(e){this.setState({value:e}),e?this.setState({loading:!0}):this.setState({loading:!1})}},{key:"render",value:function(){return this.state.fullGraph?Object(d.jsx)(fe,{handlePause:this.handlePause,paused:this.state.paused,explanation:Object(d.jsxs)("div",{children:["Revisions over time by this user. Hover over a section to see the number of revisions made that day.",Object(d.jsx)("p",{children:Object(d.jsx)("img",{className:"legend",src:a(105),alt:"Legend"})})]}),graph:Object(d.jsx)(ut,{fullGraph:this.state.fullGraph,settings:lt,paused:this.state.paused,value:this.state.value,loading:this.state.loading}),name:"User Contributions Over Time"}):""===this.state.value?Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"Search For a Graph"})}):Object(d.jsx)(ut,{fullGraph:this.state.fullGraph,settings:lt,paused:this.state.paused,value:this.state.value,loading:this.state.loading})}}]),n}(n.Component),pt=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).checkUser=function(){var e=Object(E.a)(B.a.mark((function e(t){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,e.next=3,Re(t).then((function(e){if(e[0]&&-1!=e[1])return!0}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={history:n.props.history,value:"",ifConfirm:!0,firmsList:[],recentChanges:[],invalidSearch:!1,loading:!1},n.onClick=n.onClick.bind(Object(ue.a)(n)),n}return Object(l.a)(a,[{key:"onClick",value:function(e){var t=this;this.setState({invalidSearch:!1}),this.checkUser(e).then((function(a){a?(t.feed.onclick(e),t.overTime.onclick(e),t.changes.onclick(e),t.setState({value:e})):(t.setState({invalidSearch:!0}),t.feed.onclick(""),t.overTime.onclick(""),t.changes.onclick(""))}))}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)(w,{history:this.state.history}),Object(d.jsxs)("div",{className:"row justify-content-left text-dark",children:[Object(d.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-4",children:Object(d.jsx)("div",{className:"feedContainer",children:Object(d.jsx)(st,{value:this.state.value,onRef:function(t){e.feed=t}})})}),Object(d.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-8",children:Object(d.jsxs)("div",{children:[Object(d.jsx)(nt,{settings:dt,searchValue:this.onClick.bind(this)}),this.state.invalidSearch&&Object(d.jsx)("p",{children:"This User does not exist."}),Object(d.jsx)(oe.a,{className:"CardDeckRev",children:Object(d.jsx)(rt,{title:"Number of Changes by User",pageLink:"user-number-of-changes",history:this.state.history,graph:Object(d.jsx)(ct,{fullGraph:!1,history:this.state.history,onRef:function(t){e.changes=t},value:""}),value:this.state.value})}),Object(d.jsx)(oe.a,{className:"CardDeckRev",children:Object(d.jsx)(rt,{title:"User Contributions Over Time",pageLink:"user-contributions-over-time",history:this.state.history,graph:Object(d.jsx)(ht,{fullGraph:!1,history:this.state.history,onRef:function(t){e.overTime=t},value:""}),value:this.state.value})})]})})]})]})}}]),a}(n.Component),dt={type:1},ft=pt,bt=a(151),jt=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={history:n.props.history,recentChanges:[],paused:!1,value:""},n.togglePause=n.togglePause.bind(Object(ue.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.refreshInterval=setInterval(function(){var e=this;if(!this.state.paused&&this.state.value)Ae(this.state.value).then((function(t){t[0]&&t[0].then((function(t){e.setState({recentChanges:t})}))}))}.bind(this),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshInterval)}},{key:"onclick",value:function(e){var t=this;this.setState({value:e});Ae(e).then((function(e){e[0]&&e[0].then((function(e){t.setState({recentChanges:e})}))}))}},{key:"togglePause",value:function(){this.state.paused=!this.state.paused}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{className:"text-blue text-left",children:"Page Revisions"}),Object(d.jsx)("form",{className:"text-left",onChange:this.togglePause,children:Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"checkbox"})," Paused"]})}),Object(d.jsx)("ul",{className:"search-list-page-group",children:this.state.recentChanges.map((function(e,t){return Object(d.jsx)("li",{className:"list-group-item text-left",children:Object(d.jsxs)("div",{children:["User: ".concat(e.user),Object(d.jsx)("br",{}),"Comment: ".concat(e.comment),Object(d.jsx)("br",{}),"Time: ".concat(e.timestamp)]})},t)}))})]})}}]),a}(n.Component),vt={getData:function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s,r,i,c,o,u,l,h=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(t).then((function(e){e[0].then((function(e){h.setState({values:e}),h.setState({nextVals:e})})),h.setState({keyValue:e[1]})}));case 2:e.sent,a=new Map,0,this.state.values.forEach((function(e){!a.has(e.timestamp.slice(0,-10))&&e.timestamp.slice(0,-10)>"2021-01-01"&&e.timestamp.slice(0,-10)<"2022-12-31"&&a.set(e.timestamp.slice(0,-10),e)})),n=Object(Ce.a)(a.values());try{for(r=function(){var e=s.value;e.day=e.timestamp.slice(0,-10),e.value=h.state.values.reduce((function(t,a){return a.timestamp.slice(0,-10)===e.day&&t++,t}),0)},n.s();!(s=n.n()).done;)r()}catch(p){n.e(p)}finally{n.f()}i=[a.size],c=0,o=Object(Ce.a)(a.values());try{for(o.s();!(u=o.n()).done;)l=u.value,i[c++]=l}catch(p){o.e(p)}finally{o.f()}return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),refreshTime:2e3,refreshMethod:function(){var e=Object(E.a)(B.a.mark((function e(t){var a,n,s,r,i,c,o,u,l,h=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1==this.state.keyValue){e.next=13;break}return e.next=3,Be(t,this.state.keyValue).then((function(e){e[0].then((function(e){h.setState({values:h.state.values.concat(e)})})),h.setState({keyValue:e[1]})}));case 3:e.sent,a=new Map,this.state.values.forEach((function(e){!a.has(e.timestamp.slice(0,-10))&&e.timestamp.slice(0,-10)>"2021-01-01"&&e.timestamp.slice(0,-10)<"2022-12-31"&&a.set(e.timestamp.slice(0,-10),e)})),n=Object(Ce.a)(a.values());try{for(r=function(){var e=s.value;e.day=e.timestamp.slice(0,-10),e.value=h.state.values.reduce((function(t,a){return a.timestamp.slice(0,-10)===e.day&&t++,t}),0)},n.s();!(s=n.n()).done;)r()}catch(p){n.e(p)}finally{n.f()}i=[a.size],c=0,o=Object(Ce.a)(a.values());try{for(o.s();!(u=o.n()).done;)l=u.value,i[c++]=l}catch(p){o.e(p)}finally{o.f()}return e.abrupt("return",i);case 13:return e.abrupt("return",-1);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),colorBy:"type",colors:"set1",onClick:function(e){window.open("https://www.wikidata.org/wiki/"+e.label,"_blank")},tooltip:function(e){return this.tooltip(e,"https://www.wikidata.org/wiki/")}},mt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handlePause=function(e){var t=a.state.paused;a.setState({paused:!t})},a.state={history:a.props.history,fullGraph:a.props.fullGraph,paused:!1,value:a.props.value,loading:!0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){0==this.state.fullGraph&&this.props.onRef(this)}},{key:"onclick",value:function(e){this.setState({value:e})}},{key:"render",value:function(){return this.state.fullGraph?Object(d.jsx)(fe,{handlePause:this.handlePause,paused:this.state.paused,explanation:Object(d.jsxs)("div",{children:["Revisions over time for this page. Hover over a section to see the number of revisions made that day.",Object(d.jsx)("p",{children:Object(d.jsx)("img",{className:"legend",src:a(105),alt:"Legend"})})]}),graph:Object(d.jsx)(ut,{fullGraph:!0,settings:vt,paused:this.state.paused,value:this.state.value,loading:this.state.loading}),name:"Page Revisions Over Time"}):""===this.state.value?Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"Search For a Graph"})}):Object(d.jsx)(ut,{fullGraph:this.state.fullGraph,settings:vt,paused:this.state.paused,value:this.state.value,loading:this.state.loading})}}]),n}(n.Component),gt=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state=Object(bt.a)({history:n.props.history,value:"",ifConfirm:!0,firmsList:[],recentChanges:[]},"value",""),n.onClick=n.onClick.bind(Object(ue.a)(n)),n}return Object(l.a)(a,[{key:"onClick",value:function(e){this.feed.onclick(e),this.changes.onclick(e),this.overTime.onclick(e),this.setState({value:e})}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)(w,{history:this.state.history}),Object(d.jsxs)("div",{className:"row justify-content-left text-dark",children:[Object(d.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-4",children:Object(d.jsx)("div",{className:"feedContainer",children:Object(d.jsx)(jt,{value:this.state.value,onRef:function(t){e.feed=t}})})}),Object(d.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-8",children:Object(d.jsxs)("div",{children:[Object(d.jsx)(nt,{settings:xt,searchValue:this.onClick.bind(this)}),Object(d.jsx)(oe.a,{className:"CardDeckRev",children:Object(d.jsx)(rt,{title:"Number of Changes",pageLink:"number-of-changes",history:this.state.history,graph:Object(d.jsx)(Ke,{fullGraph:!1,history:this.state.history,onRef:function(t){e.changes=t},value:""}),value:this.state.value})}),Object(d.jsx)(oe.a,{className:"CardDeckRev",children:Object(d.jsx)(rt,{title:"Page Revisions Over Time",pageLink:"page-revisions-over-time",history:this.state.history,graph:Object(d.jsx)(mt,{fullGraph:!1,history:this.state.history,onRef:function(t){e.overTime=t},value:""}),value:this.state.value})})]})})]})]})}}]),a}(n.Component),xt={getData:function(){var e=Object(E.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),type:0},Ot=gt,yt={getData:function(){var e=Object(E.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},kt=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handlePause=function(e){n.setState({paused:e.target.value})},n.state={history:n.props.history,paused:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(d.jsx)(nt,{settings:yt})})}}]),a}(n.Component);a(548);var wt=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(m,{children:Object(d.jsx)(c.a,{basename:"/Software-Engineering",history:F,children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",component:M}),Object(d.jsx)(o.a,{exact:!0,path:"/page",component:Ze}),Object(d.jsx)(o.a,{exact:!0,path:"/testComponent",component:kt}),Object(d.jsx)(o.a,{exact:!0,path:"/users-by-most-edits",component:Qe}),Object(d.jsx)(o.a,{exact:!0,path:"/most-active-users",component:je}),Object(d.jsx)(o.a,{exact:!0,path:"/recent-edit-size",component:ye}),Object(d.jsx)(o.a,{exact:!0,path:"/largest-recent-edits",component:xe}),Object(d.jsx)(o.a,{exact:!0,path:"/most-active-pages",component:me}),Object(d.jsx)(o.a,{exact:!0,path:"/proportion-flagged",component:we}),Object(d.jsx)(o.a,{exact:!0,path:"/about-page",component:tt}),Object(d.jsx)(o.a,{exact:!0,path:"/feed",component:re}),Object(d.jsx)(o.a,{exact:!0,path:"/user-search",component:ft}),Object(d.jsx)(o.a,{exact:!0,path:"/page-revisions",component:Ot}),Object(d.jsx)(o.a,{path:"/number-of-changes:id",render:function(e){var t=e.match.url;return t=t.split(":")[1],Object(d.jsx)(Ke,{fullGraph:!0,value:t})}}),Object(d.jsx)(o.a,{path:"/user-number-of-changes:id",render:function(e){var t=e.match.url;return t=t.split(":")[1],Object(d.jsx)(ct,{fullGraph:!0,value:t})}}),Object(d.jsx)(o.a,{path:"/page-revisions-over-time:id",render:function(e){var t=e.match.url;return t=t.split(":")[1],Object(d.jsx)(mt,{fullGraph:!0,value:t})}}),Object(d.jsx)(o.a,{path:"/user-contributions-over-time:id",render:function(e){var t=e.match.url;return t=t.split(":")[1],Object(d.jsx)(ht,{fullGraph:!0,value:t})}})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(d.jsx)(wt,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[549,1,2]]]);
//# sourceMappingURL=main.e7dae3d3.chunk.js.map